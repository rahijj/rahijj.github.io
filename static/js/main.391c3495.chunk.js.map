{"version":3,"sources":["serviceWorker.js","components/Error/index.tsx","utils/indexDB.ts","components/D3Panels/helperFunctions.ts","components/D3Panels/Chapter1/panelData.ts","components/Filters/AreaFilter.tsx","components/Filters/RDDFilter.tsx","components/Filters/Filters.tsx","components/Filters/IncomeCombFilt.tsx","components/D3Panels/Chapter1/Income.tsx","pages/d3-main/scroller.ts","components/Filters/AreaEdu.tsx","components/D3Panels/LockEffectFunc.tsx","components/D3Panels/Chapter2/FoodClusFunc.tsx","components/D3Panels/Chapter1/MissedPayments.tsx","components/Header/HeaderTop.tsx","components/Header/HeaderDashBoard.tsx","components/Header/Loading.tsx","pages/d3-main/index.tsx","actions/index.ts","components/Header/HeaderPort.tsx","pages/port-main/index.tsx","pages/Projects.tsx","pages/Contact.tsx","pages/About.tsx","routes.tsx","actions/core.ts","utils/localStorage.ts","reducers/index.ts","utils/debounce.ts","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","errInfo","className","name","message","componentStack","saveRawData","rd","a","idb","upgrade","db","createObjectStore","put","loadRawData","get","raw_data","generateElements","passedData","selection","element","selectAll","data","d","i","join","enter","append","attr","update","exit","transition","duration","remove","generateElementsLegend","generateAxis","bandDomain","linearDomain","bandRange","linearRange","d3","domain","range","showXAxis","axis","innerHeight","innerWidth","xLabel","select","call","wrapX","text","showYAxis","yLabel","margin","top","right","bottom","left","wrapY","plotTitle","title","split","horzTranslate","classes","textList","length","push","temp","splits","forEach","e","empty","createAxis","getConfInt","array","n","mean","reduce","b","sd","Math","sqrt","map","x","pow","showtip","tooltipTable","tableBody","check","Object","entries","style","Number","toFixed","highlightVertBar","bandScale","linearScale","tooltipClass","translate","tooltip","table","on","values","showLegend","ItemsColours","Items","leg","nt","width","each","word","words","reverse","line","tspan","pop","node","getComputedTextLength","lineHeight","lineNumber","y","dy","parseFloat","makeLineMonth","gLinks","passedList","passedExpList","type","Colors","Date","t","delay","s","EduBucket","RDDFilter","set_filter","value","id","onChange","target","IncomeCombFilt","set_filterIncomeComb","TestIncome","height","cardInd","isVisible","section","useState","filter_val","filter_Comb","set_filterComb","filter_Income","set_filterIncome","filter_Education","set_filterEducation","filters","filter_List","set_filterList","filter_RDD","set_filterRDD","openFilter","set_openFilter","graphicFilter","set_graphic","Income","index","f_area","f_inc","f_edu","legend","legendDot","navy","g","gNodes","toolList","toolListInc","toolListSpend","filt","singleLine","legendMap","color","iter","IncomeAgg","IncomeState","BelowMinWage","LowerLimit","UpperLimit","MAX_VALUE","agg","curr","lt_1","prefix","includes","i_0","undefined","panel","Spending","IncomeCI","month","keys","helper","IncomeMean","ExpMean","passedIncomeCI","SpendingCI","SpendingMean","SpendingExpMean","passedSpendingCI","percentile_25","round","percentile_50","percentile_75","String","sort","FebRMean","assign","ExpPassedData","tooltipSpendTable","min","max","area","y0","y1","datum","xAxis","tickValues","tickFormat","tickSize","yAxis","filter","matchMedia","matches","nLegends","marginTop","totalItems","combinedList","nLoop","ind","indexOf","slice","changeRadius","activeIndex","pan","useEffect","scrollVis","zIndex","gridTemplateColumns","onClick","scroller","container","els","startPos","sectionPositions","this","getBoundingClientRect","offset","sectionIndex","pos","AreaEduFilter","set_filterAreaEdu","ordering","TestShowLockEffect","filter_Round","q_key","LockEffect","Round","tooltipLockEffect","k1","k2","xLockEffectAxis","yLockEffectAxis","padding","bandwidth","showLock","FoodClusFunc","Ur1","Ur2","Rr1","Rr2","Food","fi_1","tooltipFood","r","xSubgroup","xSubgroup2","xFoodAxis","yFoodAxis","isNaN","R","key","FoodClus","MissedPayments","set_filterRound","labels_spend_7","spend_7","job_n","tooltipMissedPayments","order_by_ordering","a1","a2","AreaEdu","HeaderTop","src","alt","HeaderDashBoard","VisibleInd","SectionInd","openNav","set_openNav","NavBName","set_NavBName","stickClass","set_NavSticky","sticky","set_Sticky","nav","document","getElementById","offsetTop","to","paddingBottom","Loading","loading","connect","dispatch","getRaw","getState","res","require","JSON","parse","setHeight","setWidth","setY","setVisibleInd","orient","setOrient","setCardInd","pageYOffset","onscroll","onresize","sec","display","Header","href","rel","textTransform","MainComponent","children","HeaderPort","Projects","opacity","animationDuration","Contact","paddingRight","About","Routes","React","constructor","props","super","componentDidCatch","err","sendError","setState","render","store","Error","exact","path","component","MainPage","syncr","send","client_type","auth","payload","date","getTime","submitError","loadAuth","init_auth","token","str","localStorage","getItem","saveAuth","setItem","stringify","loadClientId","client_id","v4","loadSyncState","saveSyncState","sync_state","saveQueue","queue","saveSnapshot","last_snapshot","loadDB","queued","accept_snapshot","parseInt","connected","rootReducer","action","nextState","merges","Dynamic","state_copy","paths","delete","diff_action","new_writes","newQ","snapshot","debounce","f","wait","timeout","args","clearTimeout","setTimeout","apply","initial_state","createStore","reducer","applyMiddleware","thunkMiddleware","saveBounce","saveDB","subscribe","ReactDOM","URL","process","origin","addEventListener","fetch","response","contentType","headers","status","ready","unregister","reload","checkValidServiceWorker","postMessage"],"mappings":"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","file":"static/js/main.391c3495.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\n\ninterface P {\n\terror: Error\n\terrInfo: React.ErrorInfo\n}\n\nexport default ({ error, errInfo }: P) => {\n\n\treturn <div className=\"error-page\">\n\t\tError!\n\n\t\t<div>{error.name}</div>\n\t\t<div>{error.message}</div>\n\t\t<div>{errInfo.componentStack}</div>\n\t</div>\n}","import * as idb from 'idb'\nimport { deleteDB } from 'idb'\n\nexport const clearRawData = () => {\n\ttry {\n\t\tidb\n\t\t\t.openDB(\"db\", 1, {\n\t\t\t\tupgrade(db) {\n\t\t\t\t\tdb.createObjectStore(\"raw_data\")\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((db) => {\n\t\t\t\tdb.delete('raw_data', 'rd')\n\t\t\t})\n\n\t\tlocalStorage.removeItem(\"auth\")\n\t\tlocalStorage.removeItem(\"sync_state\")\n\t\tlocalStorage.removeItem(\"last_snapshot\")\n\t\tlocalStorage.removeItem(\"school_db\")\n\t}\n\tcatch (error) {\n\t\tconsole.error(error)\n\t}\n}\n\nexport const loadAuth = (): RootReducerState['auth'] => {\n\n\tlet init_auth: RootReducerState['auth'] = {\n\t\tid: undefined,\n\t\ttoken: undefined,\n\t\tclient_type: \"tech_demo\"\n\t};\n\n\ttry {\n\t\tconst str = localStorage.getItem(\"auth\")\n\t\tif (str === null) {\n\t\t\treturn init_auth;\n\t\t}\n\n\t\treturn JSON.parse(str);\n\t}\n\tcatch (err) {\n\t\tconsole.error(err);\n\t\treturn init_auth;\n\t}\n}\n\nexport const saveAuth = (auth: RootReducerState['auth']) => {\n\tlocalStorage.setItem(\"auth\", JSON.stringify(auth))\n}\n\nexport const saveRawData = async (rd: RawSurveyData) => {\n\tconsole.log('SAVE RAW DATA')\n\n\tconst db = await idb.openDB(\"db\", 1, {\n\t\tupgrade(db) {\n\t\t\tdb.createObjectStore(\"raw_data\")\n\t\t}\n\t})\n\tdb.put(\"raw_data\", rd, \"rd\")\n\t// .then((db) => {\n\n\t// \tif (db.objectStoreNames.length == 0) {\n\t// \t\tconsole.log('deleteDB')\n\t// \t\tidb.deleteDB('db').then(() => {\n\t// \t\t\tsaveRawData(rd)\n\t// \t\t})\n\t// \t}\n\t// \telse {\n\t// \t\tdb.put(\"raw_data\", rd, \"rd\")\n\t// \t}\n\t// })\n}\n\nexport const loadRawData = async () => {\n\n\ttry {\n\t\tconst db = await idb.openDB('db', 1, {\n\t\t\tupgrade(db) {\n\t\t\t\tdb.createObjectStore(\"raw_data\")\n\t\t\t}\n\t\t})\n\t\tconst raw_data = await db.get(\"raw_data\", \"rd\")\n\t\t// console.log('LOAD RAW DATA', raw_data, db)\n\t\treturn raw_data as RawSurveyData || {}\n\t}\n\tcatch (error) {\n\t\tconsole.error(error)\n\t\treturn {}\n\t}\n}\n","import * as d3 from 'd3'\n\nexport function generateElements(passedData: [string, any][], className: string,\n\tselection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>, element: string = 'rect') {\n\n\t// const t = selection.transition().duration(900);\n\tselection.selectAll('.' + className)\n\t\t.data(passedData, (d, i) => i)\n\t\t.join(\n\t\t\tenter => enter.append(element)\n\t\t\t\t.attr('class', className)\n\t\t\t\t.attr('opacity', 0.9),\n\t\t\tupdate => update,\n\n\t\t\texit => exit\n\t\t\t\t.transition()\n\t\t\t\t.duration(600)\n\t\t\t\t.attr('height', 0)\n\t\t\t\t.remove(),\n\t\t)\n}\nexport function generateElementsLegend(passedData: [string, any][], className: string,\n\tselection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>, element: string = 'rect') {\n\n\t// const t = selection.transition().duration(900);\n\tselection.selectAll('.' + className)\n\t\t.data(passedData, (d, i) => i)\n\t\t.join(\n\t\t\tenter => enter.append(element)\n\t\t\t\t.attr('class', className)\n\t\t\t\t.attr('opacity', 0.9),\n\t\t\tupdate => update,\n\n\t\t\texit => exit\n\t\t\t\t.remove(),\n\t\t)\n}\nexport function generateVertBars(passedData: [string, any][], className: string,\n\tselection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>, linearScale: any, element: string = 'rect') {\n\n\t// const t = selection.transition().duration(900);\n\tselection.selectAll('.' + className)\n\t\t.data(passedData, (d, i) => i)\n\t\t.join(\n\t\t\tenter => enter.append(element)\n\t\t\t\t.attr('class', className)\n\t\t\t\t.attr('opacity', 0.9)\n\t\t\t\t.attr('y', linearScale(0)),\n\n\t\t\tupdate => update,\n\n\t\t\texit => exit\n\t\t\t\t// .attr('width', 0)\n\t\t\t\t.remove(),\n\t\t)\n}\nexport function generateAxis(bandDomain: string[], linearDomain: [number, number], bandRange: [number, number], linearRange: [number, number]) {\n\tconst linearScale: any =\n\t\td3.scaleLinear()\n\t\t\t.domain(linearDomain)\n\t\t\t.range(linearRange)\n\n\tconst bandScale: any =\n\t\td3.scaleBand()\n\t\t\t.domain(bandDomain)\n\t\t\t.range(bandRange)\n\n\treturn [linearScale, bandScale]\n}\nexport function showXAxis(axis: any, selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tinnerHeight: number = 0,\n\tinnerWidth: number = 0,\n\txLabel: string = \"\"\n) {\n\tselection.select('.xAxis')\n\t\t// .transition().duration(1000)\n\t\t.call(axis)\n\tselection.select('.xAxis')\n\t\t.selectAll('.tick text')\n\t\t.call(wrapX, 50)\n\n\tselection.select('.xLabel')\n\t\t.attr('transform', `translate(${(innerWidth / 2)},${innerHeight + 35})`)\n\t\t.transition().duration(1000)\n\t\t.text(xLabel)\n\t\t.attr('opacity', 1);\n\n}\n\nexport function showXAxisMonth(axis: any, selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tinnerHeight: number = 0,\n\tinnerWidth: number = 0,\n\txLabel: string = \"\"\n) {\n\tselection.select('.xAxis')\n\t\t// .transition().duration(1000)\n\t\t.call(axis)\n\t// selection.select('.xAxis')\n\n\tselection.select('.xLabel')\n\t\t.attr('transform', `translate(${(innerWidth / 2)},${innerHeight + 35})`)\n\t\t.transition().duration(1000)\n\t\t.text(xLabel)\n\t\t.attr('opacity', 1);\n\n}\n\nexport function showYAxis(axis: any, selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tinnerHeight: number = 0,\n\tinnerWidth: number = 0,\n\tyLabel: string = \"\",\n\tmargin: {\n\t\ttop: number;\n\t\tright: number;\n\t\tbottom: number;\n\t\tleft: number;\n\t} = { top: 20, right: 20, bottom: 20, left: 55 }\n) {\n\tconst t = selection.transition().duration(100);\n\n\tselection.select('.yAxis')\n\t\t// .transition().duration(900)\n\t\t.call(axis)\n\t// .selectAll('.tick text')\n\t// .call(wrapY, 120)\n\n\tselection.select('.yAxis')\n\t\t.selectAll('.tick text')\n\t\t.call(wrapY, 120)\n\n\tselection.select('.yLabel')\n\t\t.attr(\"transform\", \"rotate(-90)\")\n\t\t.attr(\"y\", 0 - margin.left)\n\t\t.attr(\"x\", 0 - (innerHeight / 2))\n\t\t.attr(\"dy\", \"1em\")\n\t\t.transition().duration(1000)\n\t\t.text(yLabel)\n\t\t.attr('opacity', 1)\n\n}\nexport function plotTitle(selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tinnerWidth: number = 0,\n\ttitle: string = \"test\",\n\tsplit: boolean = false,\n\thorzTranslate: number = 0\n) {\n\tconst classes = ['plotTitle']\n\tconst textList: string[] = []\n\tif (title.split(' ').length > 5 && split) {\n\t\tclasses.push('plotTitle1')\n\t\tlet temp = ''\n\t\tlet splits = title.split(' ')\n\t\tfor (let i = 0; i < 6; i++) {\n\t\t\ttemp += ' ' + splits[i]\n\t\t}\n\t\ttextList.push(temp)\n\t\ttemp = ''\n\t\tfor (let i = 6; i < title.split(' ').length; i++) {\n\t\t\ttemp += ' ' + splits[i]\n\t\t}\n\t\ttextList.push(temp)\n\t}\n\telse {\n\t\tgenerateElements([], 'plotTitle1', selection, 'text')\n\t\ttextList.push(title)\n\t}\n\tlet i = 0\n\tclasses.forEach((e) => {\n\n\t\tif (selection.select('.' + e).empty()) {\n\t\t\tselection.append('text')\n\t\t\t\t.attr('class', e)\n\t\t\t\t.attr('id', 'plotTitle');\n\t\t}\n\n\t\tselection.select('.' + e)\n\t\t\t.attr('transform', `translate(${((innerWidth) / 2) + horzTranslate},${-30 + i * 20})`)\n\t\t\t.transition().duration(800)\n\t\t\t.text(textList[i])\n\t\t\t.attr('opacity', 1);\n\n\t\ti += 1\n\t})\n}\nexport function createAxis(selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>, innerHeight: number = 0) {\n\n\tif (selection.select('.yAxis').empty()) {\n\t\tselection.append('g')\n\t\t\t.attr('class', 'yAxis');\n\n\t\tselection.append('text')\n\t\t\t.attr('class', 'yLabel');\n\t}\n\tif (selection.select('.xAxis').empty()) {\n\t\tselection.append('g')\n\t\t\t.attr('class', 'xAxis')\n\t\t\t.attr('transform', `translate(0,${innerHeight})`);\n\n\t\tselection.append('text')\n\t\t\t.attr('class', 'xLabel');\n\t}\n\telse {\n\t\tselection.select('.xAxis')\n\t\t\t.attr('transform', `translate(0,${innerHeight})`)\n\t};\n}\n\nexport function createGrid(selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>, innerHeight: number) {\n\n\tif (selection.select('.yGrid').empty()) {\n\t\tselection.append('g')\n\t\t\t.attr('class', 'yGrid')\n\t}\n\tif (selection.select('.xGrid').empty()) {\n\t\tselection.append('g')\n\t\t\t.attr('class', 'xGrid')\n\t\t\t.attr('transform', `translate(0,${innerHeight})`)\n\t}\n\telse {\n\t\tselection.select('.xGrid')\n\t\t\t.attr('transform', `translate(0,${innerHeight})`)\n\t};\n}\n\nexport function showXGrid(axis: any, selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>) {\n\tselection.select('.xGrid')\n\t\t.attr('opacity', 0.4)\n\t\t.transition().duration(1000)\n\t\t.attr(\"color\", \"grey\")\n\t\t.call(axis);\n}\nexport function showYGrid(axis: any, selection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>) {\n\tselection.select('.yGrid')\n\t\t.attr('opacity', 0.4)\n\t\t.transition().duration(1000)\n\t\t.attr(\"color\", \"grey\")\n\t\t.call(axis)\n\n}\n\nexport function getConfInt(array: number[]) {\n\tconst n = array.length\n\tif (n !== 0) {\n\t\tconst mean = array.reduce((a, b) => a + b) / n\n\t\tconst sd = Math.sqrt(array.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n)\n\t\tconst CI_1 = mean + 1.96 * (sd / Math.sqrt(n))\n\t\tconst CI_2 = mean - 1.96 * (sd / Math.sqrt(n))\n\t\treturn [CI_1, CI_2]\n\t}\n\telse {\n\t\treturn [0, 0]\n\t}\n}\nexport function showtip(d: any, tooltipTable: Record<string, Record<string, string>>,\n\ttableBody: any) {\n\n\tlet match = d[0]\n\t// console.log('tip', d, tooltipTable)\n\tif (match in tooltipTable) {\n\t\tlet check = 0;\n\t\tlet rowList = Object.entries(tooltipTable[match])\n\t\tgenerateElements(rowList, 'tr', tableBody, 'tr')\n\t\tlet rows = d3.selectAll(\".tr\")\n\t\tlet cells = rows.selectAll(\"td\")\n\t\t\t.data((d: any) => d)\n\t\t\t.join(\n\t\t\t\tenter => enter.append('td')\n\t\t\t\t\t.attr('class', 'td')\n\t\t\t\t\t.style('color', (d) => {\n\t\t\t\t\t\tif (check === 1) {\n\t\t\t\t\t\t\tcheck = 0\n\t\t\t\t\t\t\tif (Number(d) < 50) return '#ed5757';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (d === 'Count') {\n\t\t\t\t\t\t\tcheck = 1\n\t\t\t\t\t\t} else check = 0;\n\t\t\t\t\t\treturn 'white'\n\t\t\t\t\t})\n\t\t\t\t\t.text((d: any) => d),\n\t\t\t\tupdate => update\n\t\t\t\t\t.style('color', (d) => {\n\t\t\t\t\t\tif (check === 1) {\n\t\t\t\t\t\t\tcheck = 0\n\t\t\t\t\t\t\tif (Number(d) < 50) return '#ed5757';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (d === 'Count') {\n\t\t\t\t\t\t\tcheck = 1\n\t\t\t\t\t\t} else check = 0;\n\t\t\t\t\t\treturn 'white'\n\t\t\t\t\t})\n\t\t\t\t\t.text((d: any) => d),\n\t\t\t\texit => exit.remove(),\n\t\t\t)\n\t} else {\n\t\tgenerateElements([['rows', 1]], 'tr', tableBody, 'tr')\n\t\tlet rows = d3.selectAll(\".tr\")\n\t\tgenerateElements([['td', 1]], 'td', rows, 'td')\n\t\tlet cells = d3.selectAll(\".td\")\n\t\tcells.text((d[1]).toFixed(2) + '%')\n\t}\n}\n\ninterface highlightIncome {\n\tdata: [string, number][],\n\tselection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tbandScale: any,\n\tlinearScale: any,\n\tclassName?: string,\n\ttooltipTable: Record<string, Record<string, string>>,\n\tmonth?: boolean,\n\ttooltipClass?: string,\n\tcolor?: string,\n\tid?: string\n}\nexport function highlightLine({ data,\n\tselection,\n\tbandScale,\n\tlinearScale,\n\tclassName = 'Point',\n\ttooltipTable = { 'Value': { 'Value': '0 ' } },\n\tmonth = false,\n\ttooltipClass = 'tooltip',\n\tcolor = '#DAA520',\n\tid = 'Point' }: highlightIncome) {\n\n\tconst mOutColor = '#9c9c9c'\n\tconst t = selection.transition().duration(1100);\n\n\tselection.selectAll('.' + className)\n\t\t.data(data, (d, i) => i)\n\t\t.join(\n\t\t\tenter => enter.append('circle')\n\t\t\t\t.attr('class', className)\n\t\t\t\t.attr('id', id)\n\t\t\t\t.attr('opacity', 1)\n\t\t\t\t.attr(\"cx\", (d: any) => {\n\t\t\t\t\tif (month) {\n\t\t\t\t\t\tlet ind = d[0].indexOf('#')\n\t\t\t\t\t\tif (ind == -1) {\n\t\t\t\t\t\t\tind = d[0].length\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn bandScale(new Date(2020, d[0].slice(0, ind), 1))\n\t\t\t\t\t}\n\t\t\t\t\telse if (!month) {\n\t\t\t\t\t\treturn bandScale(d[0]);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.attr(\"cy\", (d: any) => { return linearScale(d[1]); })\n\t\t\t\t.call(s => s.transition(t)\n\t\t\t\t\t.attr('r', 5)),\n\t\t\tupdate => update\n\t\t\t\t.call(s => s.transition(t)\n\t\t\t\t\t.attr(\"cx\", (d: any) => {\n\t\t\t\t\t\tif (month) {\n\t\t\t\t\t\t\tlet ind = d[0].indexOf('#')\n\t\t\t\t\t\t\tif (ind == -1) {\n\t\t\t\t\t\t\t\tind = d[0].length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn bandScale(new Date(2020, d[0].slice(0, ind), 1))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn bandScale(d[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.attr(\"cy\", (d: any) => { return linearScale(d[1]); })\n\t\t\t\t\t.attr('opacity', 1)\n\t\t\t\t\t.attr('r', 5)),\n\t\t\texit => exit\n\t\t\t\t// .attr('width', 0)\n\t\t\t\t.transition().duration(200)\n\t\t\t\t.attr('r', 0)\n\t\t\t\t.remove(),\n\t\t)\n\n\tgenerateElements([['tooltip', 1]], tooltipClass, d3.selectAll(\"#vis\"), 'div')\n\tconst tooltip = d3.selectAll(\".\" + tooltipClass).style('display', 'none');\n\tgenerateElements([['table', 1]], 'table', tooltip, 'table')\n\tconst table = tooltip.selectAll(\".table\")\n\t//@ts-ignore\n\tgenerateElements([['tbody', 1]], 'tbody', table, 'tbody')\n\tconst tableBody = table.selectAll(\".tbody\")\n\n\tselection.selectAll('.' + className)\n\t\t.on('mouseover', (d: any) => {\n\t\t\tchangeRadius(d)\n\t\t\tshowtip(d, tooltipTable, tableBody)\n\t\t\ttooltip.style(\"left\", () => {\n\t\t\t\tif (month) {\n\t\t\t\t\tlet ind = d[0].indexOf('#')\n\t\t\t\t\tif (ind == -1) {\n\t\t\t\t\t\tind = d[0].length\n\t\t\t\t\t}\n\t\t\t\t\treturn (bandScale(new Date(2020, d[0].slice(0, ind), 1)) - 20 + \"px\")\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn (bandScale(d[0]) - 20 + \"px\")\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.style(\"top\", linearScale(d[1]) + 85 + \"px\")\n\t\t\t\t.style('display', 'block');\n\t\t})\n\t\t.on(\"mouseout\", () => {\n\t\t\ttooltip.style('display', 'none')\n\t\t\tselection.selectAll('.' + className)\n\t\t\t\t.attr('r', 5)\n\t\t\t\t.style('fill', mOutColor)\n\t\t})\n\n\tconst changeRadius = (d: any) => {\n\t\td3.selectAll('.' + className)\n\t\t\t.attr(\"r\", (e) => { let temp; (d === e) ? temp = 12 : temp = 7; return temp })\n\t\t\t.style(\"fill\", (e) => { let temp; (d === e) ? temp = color : temp = mOutColor; return temp })\n\n\t}\n}\n\ninterface highlightBarType {\n\tselection: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tbandScale: any,\n\tlinearScale: any,\n\tclassName: string,\n\tmargin: {\n\t\ttop: number;\n\t\tright: number;\n\t\tbottom: number;\n\t\tleft: number;\n\t},\n\ttooltipTable: Record<string, Record<string, string>>,\n\ttooltipClass?: string,\n\ttranslate?: number\n}\nexport function highlightBar({\n\tselection,\n\tbandScale,\n\tlinearScale,\n\tclassName = 'BarGraph',\n\tmargin = { top: 20, right: 20, bottom: 20, left: 55 },\n\ttooltipTable = { 'Value': { 'Value': '0 ' } },\n\ttooltipClass = 'tooltip' }: highlightBarType) {\n\n\tgenerateElements([['tooltip', 1]], tooltipClass, d3.selectAll(\"#vis\"), 'div')\n\tconst tooltip = d3.selectAll(\".\" + tooltipClass).style('display', 'none');\n\tgenerateElements([['table', 1]], 'table', tooltip, 'table')\n\tconst table = tooltip.selectAll(\".table\")\n\t//@ts-ignore\n\tgenerateElements([['tbody', 1]], 'tbody', table, 'tbody')\n\tconst tableBody = table.selectAll(\".tbody\")\n\n\tselection.selectAll('.' + className)\n\t\t.on('mouseover', (d: any) => {\n\t\t\tshowtip(d, tooltipTable, tableBody)\n\t\t\ttooltip.style(\"left\", linearScale(d[1]) + margin.left + 5 + \"px\")\n\t\t\t\t.style(\"top\", bandScale(d[0]) + margin.top + \"px\")\n\t\t\t\t.style('display', 'block');\n\t\t})\n\t\t.on(\"mouseout\", () => {\n\t\t\ttooltip.style('display', 'none')\n\t\t})\n}\n\nexport function highlightVertBar({\n\tselection,\n\tbandScale,\n\tlinearScale,\n\tclassName = 'BarGraph',\n\tmargin = { top: 20, right: 20, bottom: 20, left: 55 },\n\ttooltipTable = { 'Value': { 'Value': '0 ' } },\n\ttooltipClass = 'tooltip',\n\ttranslate = 0 }: highlightBarType) {\n\n\tgenerateElements([['tooltip', 1]], tooltipClass, d3.selectAll(\"#vis\"), 'div')\n\tconst tooltip = d3.selectAll(\".\" + tooltipClass).style('display', 'none');\n\tgenerateElements([['table', 1]], 'table', tooltip, 'table')\n\tconst table = tooltip.selectAll(\".table\")\n\t//@ts-ignore\n\tgenerateElements([['tbody', 1]], 'tbody', table, 'tbody')\n\tconst tableBody = table.selectAll(\".tbody\")\n\n\tselection.selectAll('.' + className)\n\t\t.on('mouseover', (d: any) => {\n\t\t\tshowtip(Object.values(d), tooltipTable, tableBody)\n\t\t\ttooltip.style(\"top\", linearScale(linearScale.domain()[0] + Object.values(d)[1]) + \"px\")\n\t\t\t\t.style(\"left\", bandScale(Object.values(d)[0]) + translate + margin.left + 15 + \"px\")\n\t\t\t\t.style('display', 'block');\n\t\t})\n\t\t.on(\"mouseout\", () => {\n\t\t\ttooltip.style('display', 'none')\n\t\t})\n}\n\nexport function showLegend(ItemsColours: Record<string, string>, selection: any) {\n\n\tconst Items = Object.entries(ItemsColours)\n\tconst leg = selection.selectAll('.legend')\n\n\tgenerateElementsLegend(Items, 'legendCircle', leg, 'circle')\n\tgenerateElementsLegend(Items, 'legendText', leg, 'text')\n\n\tlet n = -15;\n\tleg.selectAll('.legendCircle')\n\t\t.attr('id', 'legendShape')\n\t\t.attr('transform', () => {\n\t\t\tn += 15\n\t\t\treturn (`translate(${0},${n})`)\n\t\t})\n\t\t.transition().duration(900)\n\t\t.attr(\"r\", 4)\n\t\t.style(\"fill\", (d: any) => d[1])\n\n\tlet nt = -15;\n\tleg.selectAll('.legendText')\n\t\t.attr('id', 'legendText')\n\t\t.attr('transform', () => {\n\t\t\tnt += 15\n\t\t\treturn (`translate(${20},${nt})`)\n\t\t})\n\t\t.attr('opacity', 0)\n\t\t.transition().duration(500)\n\t\t.text((d: any) => d[0])\n\t\t.attr('opacity', 1)\n\t\t.attr(\"dominant-baseline\", \"middle\")\n}\n\nexport function showLegendDot(ItemsColours: Record<string, string>, selection: any,\n\tmarginTop: boolean = false, totalItems: number = 1) {\n\n\tconst Items = Object.entries(ItemsColours)\n\tconst leg = selection.selectAll('.legend')\n\n\tgenerateElementsLegend(Items, 'legendDot', leg, 'line')\n\tgenerateElementsLegend(Items, 'legendDotText', leg, 'text')\n\n\tlet n = -15;\n\tlet nt = -15;\n\n\tif (marginTop == true) {\n\t\tn += totalItems * 15\n\t\tnt += totalItems * 15\n\t}\n\tleg.selectAll('.legendDot')\n\t\t.attr('id', 'legendShape')\n\t\t.attr('transform', () => {\n\t\t\tn += 15\n\t\t\treturn (`translate(${-10},${n})`)\n\t\t})\n\t\t.attr(\"x1\", 0)\n\t\t.attr(\"y1\", 0)\n\t\t.transition().duration(900)\n\t\t.attr(\"x2\", 22)\n\t\t.attr(\"y2\", 0)\n\t\t.style(\"stroke-dasharray\", \"3,3\")//dashed array for line\n\t\t.style('stroke-width', '3px')\n\t\t.style(\"stroke\", (d: any) => d[1]);\n\n\tleg.selectAll('.legendDotText')\n\t\t.attr('id', 'legendText')\n\t\t.attr('transform', () => {\n\t\t\tnt += 15\n\t\t\treturn (`translate(${20},${nt})`)\n\t\t})\n\t\t.attr('opacity', 0)\n\t\t.transition().duration(500)\n\t\t.text((d: any) => d[0])\n\t\t.attr('opacity', 1)\n\t\t.attr(\"dominant-baseline\", \"middle\")\n}\n\n\nexport function wrapY(text: any, width: any) {\n\ttext.each((d: any, i: any, n: any) => {\n\t\tvar text = d3.select(n[i]),\n\t\t\twords = text.text().split(/\\s+/).reverse(),\n\t\t\tword,\n\t\t\tline: string[] = [],\n\t\t\tlineHeight = 0.9, // em\n\t\t\ttspan = text.text(null).append(\"tspan\").attr(\"x\", -9)//.attr(\"dy\", 0.31 + \"em\");\n\t\twhile (word = words.pop()) {\n\t\t\tline.push(word);\n\t\t\ttspan.text(line.join(\" \"));\n\t\t\t//@ts-ignore\n\t\t\tif (tspan.node().getComputedTextLength() > width) {\n\t\t\t\tline.pop();\n\t\t\t\ttspan.text(line.join(\" \"));\n\t\t\t\tline = [word];\n\t\t\t\ttspan = text.append(\"tspan\").attr(\"x\", -9).attr(\"dy\", lineHeight + \"em\").text(word);\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function wrapX(text: any, width: any) {\n\ttext.each((d: any, i: any, n: any) => {\n\t\tvar text = d3.select(n[i]),\n\t\t\twords = text.text().split(/\\s+/).reverse(),\n\t\t\tword,\n\t\t\tline: string[] = [],\n\t\t\tlineNumber = 0,\n\t\t\tlineHeight = 1.1, // ems\n\t\t\ty = text.attr(\"y\"),\n\t\t\tdy = parseFloat(text.attr(\"dy\")),\n\t\t\ttspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y);\n\t\twhile (word = words.pop()) {\n\t\t\tline.push(word);\n\t\t\ttspan.text(line.join(\" \"));\n\t\t\t//@ts-ignore\n\t\t\tif (tspan.node().getComputedTextLength() > width) {\n\t\t\t\tline.pop();\n\t\t\t\ttspan.text(line.join(\" \"));\n\t\t\t\tline = [word];\n\t\t\t\ttspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n\t\t\t}\n\t\t}\n\t});\n}\ninterface makeLineMonth {\n\tgLinks: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tbandScale: any,\n\tlinearScale: any,\n\tpassedList?: [string, number][][]\n\tpassedExpList?: [string, number][][]\n\ttype?: string,\n\tColors?: string[]\n}\nexport function makeLineMonth({\n\tgLinks,\n\tbandScale,\n\tlinearScale,\n\tpassedList = [],\n\tpassedExpList = [],\n\ttype = 'normal',\n\tColors = ['#344a62', 'orange', 'grey']\n}: makeLineMonth) {\n\n\tlet line: any = d3.line()\n\t\t.x((d) => {\n\t\t\treturn (bandScale(new Date(2020, d[0], 1)))\n\t\t})\n\t\t.y((d) => linearScale(d[1]))\n\n\tlet className: string;\n\tconst element = 'path'\n\tconst strokeWidth = '3'\n\tconst t = gLinks.transition().delay(750).duration(500);\n\tlet data: [string, number][][];\n\ttype == 'Exp' ? data = passedExpList : data = passedList;\n\ttype == 'Exp' ? className = 'LineExpected' : className = 'LineGraph';\n\n\tgLinks.selectAll('.' + className)\n\t\t.data(data)\n\t\t.join(\n\t\t\tenter => enter.append(element)\n\t\t\t\t.attr('id', className)\n\t\t\t\t.attr('class', className)\n\t\t\t\t.attr('opacity', 0.9)\n\t\t\t\t.attr(\"fill\", \"none\")\n\t\t\t\t.style(\"stroke-dasharray\", () => {\n\t\t\t\t\tif (type == 'Exp') {\n\t\t\t\t\t\treturn (\"3, 3\")\n\t\t\t\t\t}\n\t\t\t\t\treturn 'none'\n\t\t\t\t})\n\t\t\t\t.style('stroke', (d, i) => {\n\t\t\t\t\treturn (Colors[i])\n\t\t\t\t})\n\t\t\t\t.style('stroke-width', '0')\n\t\t\t\t.call((s) => s.transition(t)\n\t\t\t\t\t.style('stroke-width', strokeWidth)\n\t\t\t\t\t.attr('d', line)),\n\t\t\tupdate => update\n\t\t\t\t.attr('opacity', 0.9)\n\t\t\t\t.attr('id', className)\n\t\t\t\t.attr(\"fill\", \"none\")\n\t\t\t\t.style(\"stroke-dasharray\", () => {\n\t\t\t\t\tif (type == 'Exp') {\n\t\t\t\t\t\treturn (\"3, 3\")\n\t\t\t\t\t}\n\t\t\t\t\treturn 'none'\n\t\t\t\t})\n\t\t\t\t.call((s) => s.transition(t)\n\t\t\t\t\t.style('stroke', (d, i) => {\n\t\t\t\t\t\treturn (Colors[i])\n\t\t\t\t\t})\n\t\t\t\t\t.style('stroke-width', strokeWidth)\n\t\t\t\t\t.attr('d', line)),\n\t\t\texit => exit\n\t\t\t\t.transition().duration(500)\n\t\t\t\t.style('stroke-width', '0')\n\t\t\t\t.remove(),\n\t\t)\n}","const EduBucket: Record<string, number[]> = {\n\t'Dropped out Before Matric': [1, 2],\n\t'Matric': [3],\n\t'More than Matric': [4, 5, 6, 7, 8, 9]\n}\n\ninterface SpendingType {\n\tdata: RootReducerState['raw_data']\n\tfilter_val: string,\n\tfilter_Income?: string,\n\tfilter_Education?: string,\n\tfilter_RDD?: string\n}\nexport function Spending({ data, filter_val = 'Overall',\n\tfilter_Income = 'F0', filter_Education = 'None', filter_RDD = 'None' }: SpendingType) {\n\n\tconst SpendingState: Record<string, number[]> = {\n\t\t'February': [],\n\t\t'FebruaryR1': [],\n\t\t'FebruaryR2': [],\n\t\t'May': [],\n\t\t'August': [],\n\t\t'AugExp': []\n\t};\n\n\tlet LowerLimit: number = 0;\n\tlet UpperLimit: number = Number.MAX_VALUE;\n\n\tif (filter_Income === 'F1') {\n\t\tLowerLimit = 0;\n\t\tUpperLimit = 17500;\n\t}\n\telse if (filter_Income === 'F2') {\n\t\tLowerLimit = 17500;\n\t\tUpperLimit = 50000;\n\t}\n\telse if (filter_Income === 'F3') {\n\t\tLowerLimit = 50000;\n\t\tUpperLimit = Number.MAX_VALUE;\n\t}\n\n\t// console.log(Object.values(data).length)\n\tconst Spend = Object.values(data)\n\t\t.reduce((agg: Record<string, number[]>, curr: any) => {\n\t\t\tif ((filter_val !== \"Overall\" ? curr.lt_1 === filter_val : true)) {\n\n\t\t\t\tif ((filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true) &&\n\t\t\t\t\t(filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n\t\t\t\t\tif (curr['spend_1'] !== undefined && curr['spend_1'] > 0\n\t\t\t\t\t\t&& curr['i_6'] > LowerLimit && curr['i_6'] <= UpperLimit) {\n\n\t\t\t\t\t\tagg['February'].push(curr['spend_1']);\n\n\t\t\t\t\t\tif (curr['Round'] == 1) {\n\t\t\t\t\t\t\tif ((curr['spend_2_1'] !== undefined) && (curr['spend_2_1'] > 0)) {\n\t\t\t\t\t\t\t\tagg['May'].push(curr['spend_2_1'])\n\t\t\t\t\t\t\t\tagg['FebruaryR1'].push(curr['spend_1']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (curr['Round'] == 2) {\n\t\t\t\t\t\t\tif ((curr['spend_2_1'] !== undefined) && (curr['spend_2_1'] > 0)) {\n\t\t\t\t\t\t\t\tagg['August'].push(curr['spend_2_1'])\n\t\t\t\t\t\t\t\tagg['FebruaryR2'].push(curr['spend_1']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (curr['spend_3_1'] != undefined && curr['spend_3_1'] >= 0) {\n\t\t\t\t\t\t\t\tagg['AugExp'].push(curr['spend_3_1'])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn agg\n\t\t}, SpendingState);\n\treturn Spend\n}\n\ninterface IncomeType {\n\tdata: RootReducerState['raw_data']\n\tfilter_val: string,\n\tfilter_Income?: string,\n\tfilter_Education?: string,\n\tfilter_RDD?: string\n}\nexport function IncomeData({ data, filter_val = 'Overall',\n\tfilter_Income = 'F0', filter_Education = 'None', filter_RDD = 'None' }: IncomeType) {\n\n\tconst IncomeMonths: Record<string, number[]> = {\n\t\t'February': [],\n\t\t'FebruaryR1': [],\n\t\t'FebruaryR2': [],\n\t\t'MayFeb': [],\n\t\t'AugFeb': [],\n\t\t'May': [],\n\t\t'August': [],\n\t\t'AugExp': []\n\t};\n\tconst BelowMinWage: Record<string, number> = {\n\t\t'February': 0,\n\t\t'May': 0,\n\t\t'August': 0\n\t};\n\tconst IncomeState: InitiState = {\n\t\tIncome: IncomeMonths,\n\t\tBelowMinWage: BelowMinWage\n\t};\n\ttype InitiState = {\n\t\tIncome: Record<string, number[]>\n\t\tBelowMinWage: Record<string, number>\n\t}\n\tlet LowerLimit: number = 0;\n\tlet UpperLimit: number = Number.MAX_VALUE;\n\n\tif (filter_Income === 'F1') {\n\t\tLowerLimit = 0;\n\t\tUpperLimit = 17500;\n\t}\n\telse if (filter_Income === 'F2') {\n\t\tLowerLimit = 17500;\n\t\tUpperLimit = 50000;\n\t}\n\telse if (filter_Income === 'F3') {\n\t\tLowerLimit = 50000;\n\t\tUpperLimit = Number.MAX_VALUE;\n\t}\n\tconst IncomeAgg = Object.values(data)\n\t\t.reduce((agg: InitiState, curr: any) => {\n\t\t\tif ((filter_val !== \"Overall\" ? curr.lt_1 === filter_val : true)) {\n\t\t\t\tif ((filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true) &&\n\t\t\t\t\t(filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n\t\t\t\t\tif (curr['i_6'] !== undefined && curr['i_6'] > LowerLimit\n\t\t\t\t\t\t&& curr['i_6'] <= UpperLimit) {\n\n\t\t\t\t\t\tif (curr['i_6'] < 17500) agg['BelowMinWage']['February'] += 1\n\t\t\t\t\t\tagg['Income']['February'].push(curr['i_6']);\n\n\t\t\t\t\t\tif (curr['i_8'] !== undefined && curr['i_8'] >= 0) {\n\t\t\t\t\t\t\tif (curr['Round'] == 1) {\n\t\t\t\t\t\t\t\tagg['Income']['FebruaryR1'].push(curr['i_6']);\n\t\t\t\t\t\t\t\tagg['Income']['May'].push(curr['i_8'])\n\t\t\t\t\t\t\t\tif (curr['i_8'] < 17500) agg['BelowMinWage']['May'] += 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (curr['Round'] == 2) {\n\t\t\t\t\t\t\t\tagg['Income']['FebruaryR2'].push(curr['i_6']);\n\t\t\t\t\t\t\t\tagg['Income']['August'].push(curr['i_8'])\n\n\t\t\t\t\t\t\t\tif (curr['i_9_6'] >= 0) {\n\t\t\t\t\t\t\t\t\tagg['Income']['AugExp'].push(curr['i_9_6'])\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (curr['i_8'] < 17500)\n\t\t\t\t\t\t\t\t\tagg['BelowMinWage']['August'] += 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (curr['i_8_6'] !== undefined && curr['i_8_6'] >= 0) {\n\n\t\t\t\t\t\t\tif (curr['Round'] == 1) {\n\t\t\t\t\t\t\t\tagg['Income']['MayFeb'].push(curr['i_8_6'])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (curr['Round'] == 2) {\n\t\t\t\t\t\t\t\tagg['Income']['AugFeb'].push(curr['i_8_6'])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn agg\n\t\t}, IncomeState);\n\t// console.log('IA', IncomeAgg)\n\treturn IncomeAgg\n}\n\nexport function Jobs(data: RootReducerState['raw_data'], filter_val: string = 'Overall',\n\tfilter_Round: number = 1, filter_Education: string = 'None', filter_RDD: string = 'None') {\n\n\tconst labels_i_1: Record<number, string> = {\n\t\t'1': 'Daily Wage',\n\t\t'2': 'Salaried Employee',\n\t\t'3': 'Own (Family) Business',\n\t\t'4': 'School Owner',\n\t\t'5': 'Own/ Rent Agricultural Land',\n\t\t'6': 'Own/ Rent Livestock',\n\t\t'7': 'Unemployed',\n\t\t'8': 'Retired',\n\t\t'-88': 'Other'\n\t}\n\tconst exclude: string[] =\n\t\t[\"Respondent Dropped out\",\n\t\t\t\"Refused to answer\",\n\t\t\t\"Don't know\",\n\t\t\t\"Other\"]\n\n\tconst JobCount: Record<string, number> = {}\n\tconst LostJobCount: Record<string, number> = {}\n\tconst BorrowedMoneyCount: Record<string, number> = {}\n\tconst LosJobType: Record<string, Record<string, number>> = {}\n\tconst initialState: InitiState = {\n\t\t'JobCount': JobCount,\n\t\t'LostJobCount': LostJobCount,\n\t\t'BorrowedMoneyCount': BorrowedMoneyCount,\n\t\t'LostJobType': LosJobType\n\t}\n\ttype InitiState = {\n\t\tJobCount: Record<string, number>\n\t\tLostJobCount: Record<string, number>\n\t\tBorrowedMoneyCount: Record<string, number>\n\t\tLostJobType: Record<string, Record<string, number>>\n\t}\n\n\tlet job_n = 0;\n\tconst Jobs = Object.values(data).reduce((agg: InitiState, curr: any) => {\n\n\t\tif ((curr['i_2'] !== undefined) && !(exclude.includes(curr['i_2']))) {\n\t\t\tif ((filter_val !== \"Overall\" ? curr.lt_1 === filter_val : true)) {\n\t\t\t\tif ((curr['Round'] == filter_Round) && (filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true)\n\t\t\t\t\t&& (filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n\t\t\t\t\tagg['JobCount'][curr['i_2']] = (agg['JobCount'][curr['i_2']] || 0) + 1\n\n\t\t\t\t\tif (curr['i_3'] === \"No, I am currently unemployed/ laid off\") {\n\t\t\t\t\t\tagg['LostJobCount'][curr['i_2']] = (agg['LostJobCount'][curr['i_2']] || 0) + 1;\n\n\t\t\t\t\t\t// agg['LostJobType'][curr['i_2']] = {}\n\t\t\t\t\t\t// if ((curr['i_1'] !== undefined)) {\n\t\t\t\t\t\t// \tcurr['i_1'].split(' ').forEach((e: number) => {\n\t\t\t\t\t\t// \t\tagg['LostJobType'][curr['i_2']][labels_i_1[e]] = (agg['LostJobType'][curr['i_2']][labels_i_1[e]] || 0) + 1;\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// }\n\t\t\t\t\t}\n\t\t\t\t\tif (curr.spend_4 == 'Yes') {\n\t\t\t\t\t\tagg['BorrowedMoneyCount'][curr['i_2']] = (agg['BorrowedMoneyCount'][curr['i_2']] || 0) + 1\n\t\t\t\t\t}\n\t\t\t\t\tjob_n += 1\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn agg\n\n\t}, initialState)\n\n\t// Object.keys(Jobs['JobCount']).forEach((e) => Jobs['JobCount'][e] = 100 * Jobs['JobCount'][e] / job_n)\n\t// Object.keys(Jobs['LostJobCount']).forEach((e) => Jobs['LostJobCount'][e] = 100 * Jobs['LostJobCount'][e] / job_n)\n\treturn Jobs\n}\n\nexport function JobType(data: RootReducerState['raw_data'], filter_val: string = 'Overall',\n\tfilter_Round: number = 1, filter_Education: string = 'None', filter_RDD: string = 'None') {\n\n\tconst labels_i_1: Record<number, string> = {\n\t\t'1': 'Daily Wage',\n\t\t'2': 'Salaried Employee',\n\t\t'3': 'Own (Family) Business',\n\t\t'4': 'School Owner',\n\t\t'5': 'Own/ Rent Agricultural Land',\n\t\t'6': 'Own/ Rent Livestock',\n\t\t'7': 'Unemployed',\n\t\t'8': 'Retired',\n\t\t'-88': 'Other'\n\t}\n\tconst JobCount: Record<string, number> = {}\n\tconst LostJobCount: Record<string, number> = {}\n\tconst initialState: InitiState = {\n\t\tJobCount: JobCount,\n\t\tLostJobCount: LostJobCount\n\t}\n\ttype InitiState = {\n\t\tJobCount: Record<string, number>\n\t\tLostJobCount: Record<string, number>\n\t}\n\tlet job_n = 0;\n\tconst Jobs = Object.values(data).reduce((agg: InitiState, curr: any) => {\n\n\t\tif ((curr['i_1'] !== undefined) && (filter_val !== \"Overall\" ? curr.lt_1 === filter_val : true)) {\n\n\t\t\tif ((curr['Round'] == filter_Round) && (filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true)\n\t\t\t\t&& (filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n\t\t\t\tcurr['i_1'].split(' ').forEach((e: number) => {\n\t\t\t\t\tif (labels_i_1[e] != undefined) {\n\t\t\t\t\t\tagg['JobCount'][labels_i_1[e]] = (agg['JobCount'][labels_i_1[e]] || 0) + 1;\n\n\t\t\t\t\t\tif (e == 7 || e == 8) {\n\t\t\t\t\t\t\tif (curr['i_3'] !== \"No, I am currently unemployed/ laid off\") {\n\t\t\t\t\t\t\t\tagg['LostJobCount'][labels_i_1[e]] = (agg['LostJobCount'][labels_i_1[e]] || 0) + 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (curr['i_3'] === \"No, I am currently unemployed/ laid off\") {\n\t\t\t\t\t\t\t\tagg['LostJobCount'][labels_i_1[e]] = (agg['LostJobCount'][labels_i_1[e]] || 0) + 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjob_n += 1\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn agg\n\n\t}, initialState)\n\n\treturn Jobs\n}\n\nexport function MissedPayments(data: RootReducerState['raw_data'], filter_val: string = 'Overall',\n\tfilter_Round: number = 1, filter_Education: string = 'None', filter_RDD: string = 'None') {\n\n\tconst labels_spend_7: Record<number, string> = {\n\t\t'1': 'Tick 1',\n\t\t'2': 'Tick 2',\n\t\t'3': 'Tick 3',\n\t\t'4': 'Tick 4',\n\t\t'5': 'Tick 5',\n\t\t'6': 'Tick 6',\n\t\t'7': 'Tick 7',\n\t\t'8': 'Tick 8',\n\t\t'9': 'Tick 9',\n\t\t'10': 'Tick 10',\n\t\t'11': 'Tick 11',\n\t\t'-90': 'Tick -99'\n\t}\n\tconst initialState: Record<string, number> = {}\n\n\tlet n = 0;\n\tconst Missed = Object.values(data).reduce((agg: Record<string, number>, curr: any) => {\n\n\t\tif ((curr.spend_7 !== undefined) && (filter_val !== \"Overall\" ? curr.lt_1 === filter_val : true)) {\n\n\t\t\tif ((curr['Round'] == filter_Round) && (filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true)\n\t\t\t\t&& (filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n\t\t\t\tcurr.spend_7.split(' ').forEach((e: number) => {\n\t\t\t\t\tif ((labels_spend_7[e] != undefined) && (e > 0)) {\n\t\t\t\t\t\tagg[labels_spend_7[e]] = (agg[labels_spend_7[e]] || 0) + 1;\n\t\t\t\t\t\tn += 1\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn agg\n\n\t}, initialState)\n\n\t// Object.keys(Missed).forEach((e) => Missed[e] = 100 * Missed[e] / n)\n\n\treturn Missed\n}","import React from 'react'\n\ninterface P {\n\tset_filter: Function\n\tvalue: string\n}\n\nconst AreaFilter: React.FC<P> = ({ set_filter, value }) => {\n\n\treturn <label className='FiltLab'>Area Type\n\t<select id='AreaTypeDropdown' className='Filter' onChange={e => set_filter(e.target.value)} value={value}>\n\t\t\t<option value=\"Overall\">Overall</option>\n\t\t\t<option value='Rural'>Rural</option>\n\t\t\t<option value='Urban'>Urban</option>\n\t\t</select>\n\t</label>\n\n}\nexport default AreaFilter\n","import React from 'react'\n\ninterface P {\n\tset_filter: Function\n\tvalue: string\n}\n\nconst RDDFilter: React.FC<P> = ({ set_filter, value }) => {\n\n\n\treturn <label className='FiltLab'>Filter RDD\n\t<select id='RDD_Dropdown' className='Filter' onChange={e => set_filter(e.target.value)} value={value}>\n\t\t\t<option value=\"RDD\">RDD</option>\n\t\t\t<option value='None'>None</option>\n\t\t</select>\n\t</label>\n\n}\nexport default RDDFilter\n","import React from 'react'\nimport AreaFilterComp from 'components/Filters/AreaFilter'\nimport EduFilterComp from 'components/Filters/EduFilter'\nimport RoundFilterComp from 'components/Filters/RoundFilter'\nimport RDDFilterComp from 'components/Filters/RDDFilter'\nimport IncomeFilterComp from 'components/Filters/IncomeFilter'\n\ninterface P {\n\tset_filter: Function\n\tvalue: any\n}\n\nexport const AreaFilter: React.FC<P> = ({ set_filter, value }) => {\n\treturn <AreaFilterComp set_filter={set_filter} value={value} />\n}\nexport const EduFilter: React.FC<P> = ({ set_filter, value }) => {\n\treturn <EduFilterComp set_filter={set_filter} value={value} />\n}\nexport const RoundFilter: React.FC<P> = ({ set_filter, value }) => {\n\treturn <RoundFilterComp set_filter={set_filter} value={value} />\n}\nexport const RDDFilter: React.FC<P> = ({ set_filter, value }) => {\n\treturn <RDDFilterComp set_filter={set_filter} value={value} />\n}\nexport const IncomeFilter: React.FC<P> = ({ set_filter, value }) => {\n\treturn <IncomeFilterComp set_filter={set_filter} value={value} />\n}\n// export const CombFilter: React.FC<P> = ({ set_filter, set_filterIncome, set_filterEducation, value }) => {\n// \treturn <CombFilterComp set_filter={set_filter} set_filterIncome={set_filterIncome} set_filterEducation={set_filterEducation} value={value} />\n// }","import React from 'react'\n\ninterface P {\n\tset_filterIncomeComb: Function\n\tvalue: string\n}\n\nconst IncomeCombFilt: React.FC<P> = ({ set_filterIncomeComb, value }) => {\n\n\treturn <label className='FiltLab'>Filters\n\t<select id='CombFilterDropdown' className='Filter' onChange={e => set_filterIncomeComb(e.target.value)} value={value} >\n\t\t\t<option value=\"None\">None</option>\n\t\t\t<option value='Education'>Education</option>\n\t\t\t<option value='Area'>Area</option>\n\t\t\t<option value='Income'>Income</option>\n\t\t\t{/* <option value='Rural'>Rural</option>\n\t\t\t<option value='Urban'>Urban</option>\n\t\t\t<option value='F1'>Rs 0 - Rs 17.5k</option>\n\t\t\t<option value='F2'>Rs.17.5k - Rs 50k</option> */}\n\t\t</select>\n\t</label>\n\n}\nexport default IncomeCombFilt","import React, { useEffect, useRef, useState } from 'react'\nimport * as d3 from 'd3'\nimport * as helper from '../helperFunctions'\nimport { max, min, tree } from 'd3'\nimport * as panel from './panelData'\nimport * as filter from 'components/Filters/Filters'\nimport IncomeCombFilt from 'components/Filters/IncomeCombFilt'\n\ninterface P {\n\twidth: number\n\theight: number\n\tcardInd: number\n\tdata: RootReducerState['raw_data']\n\tisVisible: boolean\n\tsection: string\n}\nconst TestIncome: React.FC<P> = ({ width, height, data, cardInd, isVisible, section }) => {\n\n\tconst [filter_val, set_filter] = useState(\"Overall\")\n\tconst [filter_Comb, set_filterComb] = useState(\"None\")\n\tconst [filter_Income, set_filterIncome] = useState(\"F0\")\n\tconst [filter_Education, set_filterEducation] = useState(\"None\")\n\tconst [filter_List, set_filterList] = useState({\n\t\ttype: 'None',\n\t\tfilters: ['']\n\t})\n\n\tconst [filter_RDD, set_filterRDD] = useState(\"RDD\")\n\tconst [openFilter, set_openFilter] = useState('0vh')\n\tconst [graphicFilter, set_graphic] = useState(999)\n\tlet margin = { top: 60, right: 20, bottom: 20, left: 45 }\n\tlet innerWidth = width - margin.left - margin.right\n\tlet innerHeight = height - margin.top - margin.bottom;\n\n\tfunction Income(index: number) {\n\n\t\tlet f_area = filter_val\n\t\tlet f_inc = filter_Income\n\t\tlet f_edu = filter_Education\n\n\t\tlet plotTitle = ''\n\t\tlet legend: Record<string, string> = {}\n\t\tlet legendDot: Record<string, string> = {}\n\t\tlet linearScale: any;\n\t\tlet bandScale: any;\n\n\t\tconst navy: string = '#344a62'\n\t\tconst grey: string = 'grey'\n\t\tconst orange: string = 'orange'\n\t\tconst Colors: string[] = [navy, orange, grey]\n\n\t\tconst yLabel = 'Percentage (%)'\n\t\tconst xLabel = 'Months'\n\t\tconst g = d3.select('#IncomeSVG')\n\t\tconst gNodes = g.select('.nodes')\n\t\tconst gLinks = g.select('.links')\n\n\n\t\tlet passedList: [string, number][][] = []\n\t\tlet passedExpList: [string, number][][] = []\n\n\t\tlet toolList: Record<string, Record<string, string>> = {}\n\t\tlet toolListInc: Record<string, Record<string, string>> = {}\n\t\tlet toolListSpend: Record<string, Record<string, string>> = {}\n\t\tif (filter_List.type != 'None') {\n\n\t\t\tlet filt = ''\n\n\t\t\tfor (let i = 0; i < filter_List.filters.length; i++) {\n\t\t\t\tfilt = filter_List.filters[i]\n\t\t\t\tswitch (filter_List.type) {\n\t\t\t\t\tcase 'Education':\n\t\t\t\t\t\tf_edu = filt\n\t\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 1'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index == 1) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 2'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index == 2) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 3'\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ((index === 3)) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 4'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlegend['Legend 1'] = Colors[0]\n\t\t\t\t\t\tlegend['Legend 2'] = Colors[1]\n\t\t\t\t\t\tlegend['Legend 3'] = Colors[2]\n\n\t\t\t\t\t\tsingleLine(Colors[i], i)\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Income':\n\t\t\t\t\t\tconst legendMap: Record<string, string> = {\n\t\t\t\t\t\t\t'F1': 'Less than 17.5k',\n\t\t\t\t\t\t\t'F23': 'Greater than 17.5k'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf_inc = filt\n\t\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 1'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index == 1) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 2'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index == 2) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 3'\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ((index === 3)) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 4'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlegend[legendMap['Legend 1']] = Colors[0]\n\t\t\t\t\t\tlegend[legendMap['Legend 2']] = Colors[1]\n\n\t\t\t\t\t\tsingleLine(Colors[i], i)\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Area':\n\t\t\t\t\t\tf_area = filt\n\t\t\t\t\t\tif (index == 0) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 1'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index == 1) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 2'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index == 2) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 3'\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ((index === 3)) {\n\t\t\t\t\t\t\tplotTitle = 'Line Graph 4'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlegend['Legend 1'] = Colors[0]\n\t\t\t\t\t\tlegend['Legend 2'] = Colors[1]\n\t\t\t\t\t\tsingleLine(Colors[i], i)\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error('No Switch statement exists!')\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (index == 0) {\n\t\t\t\tplotTitle = 'Line Graph 1'\n\t\t\t}\n\t\t\tif (index == 1) {\n\t\t\t\tplotTitle = 'Line Graph 2'\n\t\t\t}\n\t\t\tif (index == 2) {\n\t\t\t\tplotTitle = 'Line Graph 3'\n\t\t\t}\n\t\t\telse if ((index === 3)) {\n\t\t\t\tplotTitle = 'Line Graph 4'\n\t\t\t}\n\t\t\tsingleLine(navy, 0)\n\t\t}\n\t\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\n\t\t\thelper.plotTitle(g, innerWidth, plotTitle, true)\n\t\t} else {\n\t\t\thelper.plotTitle(g, innerWidth, plotTitle)\n\t\t}\n\n\t\tfunction singleLine(color: string, iter: number) {\n\n\t\t\tconst IncomeAgg = panel.IncomeData({ data: data, filter_val: f_area, filter_Income: f_inc, filter_Education: f_edu, filter_RDD: filter_RDD })\n\t\t\tconst Spending = panel.Spending({ data: data, filter_val: f_area, filter_Income: f_inc, filter_Education: f_edu, filter_RDD: filter_RDD })\n\t\t\tconst IncomeCI: Record<number, number[]> = {}\n\t\n\t\t\tconst month: Record<string, number> = {\n\t\t\t\t\"January\": 0,\n\t\t\t\t\"February\": 1,\n\t\t\t\t\"March\": 2,\n\t\t\t\t\"April\": 3,\n\t\t\t\t\"May\": 4,\n\t\t\t\t\"June\": 5,\n\t\t\t\t\"July\": 6,\n\t\t\t\t\"August\": 7,\n\t\t\t\t\"September\": 8,\n\t\t\t\t\"October\": 9,\n\t\t\t\t\"November\": 10,\n\t\t\t\t\"December\": 11,\n\t\t\t\t'MayFeb': 4,\n\t\t\t\t'AugFeb': 7,\n\t\t\t\t'AugExp': 9\n\t\t\t}\n\n\t\t\tObject.keys(IncomeAgg['Income']).forEach((e) => {\n\t\t\t\tif ((e === 'February') || (e === 'MayFeb') || (e === 'AugFeb') || (e === 'AugExp')) {\n\t\t\t\t\tIncomeCI[month[e]] = [helper.getConfInt(IncomeAgg['Income'][e])[0], helper.getConfInt(IncomeAgg['Income'][e])[1]]\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst IncomeMean: Record<number, number> = {};\n\t\t\tconst ExpMean: Record<number, number> = {};\n\n\t\t\tif (IncomeAgg['Income']['February'].length === 0) {\n\t\t\t\tIncomeMean[1] = 1\n\t\t\t} else {\n\t\t\t\tIncomeMean[1] = IncomeAgg['Income']['February'].reduce((a: number, b: number) => a + b, 0) / IncomeAgg['Income']['February'].length;\n\t\t\t\t// [0, 1].forEach(i => IncomeCI[1][i] = (100 * IncomeCI[1][i] / IncomeMean[1]) - 100)\n\t\t\t\t// As Feb should have no confidence Interval\n\t\t\t\t[0, 1].forEach(i => IncomeCI[1][i] = 0)\n\n\t\t\t}\n\t\t\tObject.keys(IncomeAgg['Income']).forEach(e => {\n\t\t\t\tif ((e === 'MayFeb') || (e === 'AugFeb')) {\n\t\t\t\t\tif (IncomeAgg['Income'][e].length === 0) {\n\t\t\t\t\t\tIncomeMean[month[e]] = 0\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tIncomeMean[month[e]] = (100 * IncomeAgg['Income'][e].reduce((a: number, b: number) => (b + a), 0) / IncomeAgg['Income'][e].length) - 100;\n\t\t\t\t\t\t[0, 1].forEach(i => IncomeCI[month[e]][i] = (100 * IncomeCI[month[e]][i]) - 100)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((e === 'AugFeb') || (e === 'AugExp')) {\n\t\t\t\t\tif (IncomeAgg['Income'][e].length === 0) {\n\t\t\t\t\t\tExpMean[month[e]] = 0\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tExpMean[month[e]] = (100 * IncomeAgg['Income'][e].reduce((a: number, b: number) => (b + a), 0) / IncomeAgg['Income'][e].length) - 100;\n\t\t\t\t\t\tif (e === 'AugExp') {\n\t\t\t\t\t\t\t[0, 1].forEach(i => IncomeCI[month[e]][i] = (100 * IncomeCI[month[e]][i]) - 100)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst passedIncomeCI = Object.entries(IncomeCI)\n\n\t\t\tIncomeMean[1] = 0;\n\n\t\t\tconst SpendingCI: Record<number, number[]> = {}\n\t\t\tObject.keys(Spending).forEach((e) => {\n\t\t\t\tif ((e !== 'FebruaryR1') && (e !== 'FebruaryR2')) {\n\t\t\t\t\tSpendingCI[month[e]] = [helper.getConfInt(Spending[e])[0], helper.getConfInt(Spending[e])[1]]\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst SpendingMean: Record<string, number> = {};\n\t\t\tconst SpendingExpMean: Record<number, number> = {};\n\n\t\t\tif (Spending['February'].length === 0) {\n\t\t\t\tSpendingMean[1] = 1\n\t\t\t} else {\n\t\t\t\tSpendingMean[1] = Spending['February'].reduce((a: number, b: number) => a + b, 0) / Spending['February'].length;\n\t\t\t\t// [0, 1].forEach(i => SpendingCI[1][i] = (100 * SpendingCI[1][i] / SpendingMean[1]) - 100)\n\t\t\t\t[0, 1].forEach(i => SpendingCI[1][i] = 0)\n\n\t\t\t}\n\t\t\tObject.keys(Spending).forEach(e => {\n\t\t\t\tif ((e === 'May') || (e === 'August')) {\n\t\t\t\t\tif (Spending[e].length === 0) {\n\t\t\t\t\t\tSpendingMean[month[e]] = 0\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSpendingMean[month[e]] = (100 * Spending[e].reduce((a: number, b: number) => (b + a), 0) / Spending[e].length) - 100;\n\t\t\t\t\t\t[0, 1].forEach(i => SpendingCI[month[e]][i] = (100 * SpendingCI[month[e]][i]) - 100)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((e === 'August') || (e === 'AugExp')) {\n\t\t\t\t\tif (Spending[e].length === 0) {\n\t\t\t\t\t\tSpendingExpMean[month[e]] = 0\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tSpendingExpMean[month[e]] = (100 * Spending[e].reduce((a: number, b: number) => (b + a), 0) / Spending[e].length) - 100;\n\t\t\t\t\t\tif (e === 'AugExp') {\n\t\t\t\t\t\t\t[0, 1].forEach(i => SpendingCI[month[e]][i] = (100 * SpendingCI[month[e]][i]) - 100)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst passedSpendingCI = Object.entries(SpendingCI)\n\t\t\tSpendingMean[1] = 0;\n\n\t\t\tconst tooltipTable: Record<string, Record<string, string>> = {}\n\t\t\tObject.keys(IncomeAgg['Income']).forEach(e => {\n\n\t\t\t\tlet percentile_25 = Math.round(0.25 * (IncomeAgg['Income'][e].length)) - 1;\n\t\t\t\tlet percentile_50 = Math.round(0.5 * (IncomeAgg['Income'][e].length)) - 1;\n\t\t\t\tlet percentile_75 = Math.round(0.75 * (IncomeAgg['Income'][e].length)) - 1;\n\n\t\t\t\tif (e === 'February') {\n\t\t\t\t\ttooltipTable[month[e] + '#' + String(iter)] = {\n\t\t\t\t\t\t'Value': IncomeMean[month[e]].toFixed(2) + '%',//\n\t\t\t\t\t\t'Mean': (IncomeAgg['Income'][e].reduce((a: number, b: number) => a + b, 0) / IncomeAgg['Income'][e].length).toFixed(2),\n\t\t\t\t\t\t'25 %': String((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_25]),\n\t\t\t\t\t\t'50 %': String((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_50]),\n\t\t\t\t\t\t'75 %': String((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_75]),\n\t\t\t\t\t\t'Count': String(IncomeAgg['Income'][e].length)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if ((e === 'MayFeb') || (e === 'AugFeb') || (e === 'AugExp')) {\n\t\t\t\t\tlet FebRMean: number = 0;\n\t\t\t\t\tif (e === 'MayFeb') {\n\n\t\t\t\t\t\tFebRMean = IncomeAgg['Income']['FebruaryR1'].reduce((a: number, b: number) => a + b, 0) /\n\t\t\t\t\t\t\tIncomeAgg['Income']['FebruaryR1'].length\n\t\t\t\t\t}\n\t\t\t\t\telse if ((e == 'AugFeb') || (e == 'AugExp')) {\n\n\t\t\t\t\t\tFebRMean = IncomeAgg['Income']['FebruaryR2'].reduce((a: number, b: number) => a + b, 0) /\n\t\t\t\t\t\t\tIncomeAgg['Income']['FebruaryR2'].length\n\t\t\t\t\t}\n\t\t\t\t\tif (e !== 'AugExp') {\n\n\t\t\t\t\t\ttooltipTable[month[e] + '#' + String(iter)] = {\n\t\t\t\t\t\t\t'Value': IncomeMean[month[e]].toFixed(2) + '%',\n\t\t\t\t\t\t\t'Mean': ((IncomeMean[month[e]] / 100) * FebRMean).toFixed(2),\n\t\t\t\t\t\t\t'25 %': ((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_25] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t'50 %': ((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_50] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t'75 %': ((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_75] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t'Count': String(IncomeAgg['Income'][e].length)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttooltipTable[month[e] + '#' + String(iter)] = {\n\t\t\t\t\t\t\t'Value': ExpMean[month[e]].toFixed(2) + '%',\n\t\t\t\t\t\t\t'Mean': ((ExpMean[month[e]] / 100) * FebRMean).toFixed(2),\n\t\t\t\t\t\t\t'25 %': ((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_25] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t'50 %': ((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_50] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t'75 %': ((IncomeAgg['Income'][e]).sort((a: number, b: number) => a - b)[percentile_75] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t'Count': String(IncomeAgg['Income'][e].length)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttoolListInc = Object.assign({}, toolListInc, tooltipTable);\n\n\t\t\tconst tooltipSpendTable: Record<string, Record<string, string>> = {}\n\t\t\tObject.keys(Spending).forEach(e => {\n\n\t\t\t\tlet percentile_25 = Math.round(0.25 * (Spending[e].length)) - 1;\n\t\t\t\tlet percentile_50 = Math.round(0.5 * (Spending[e].length)) - 1;\n\t\t\t\tlet percentile_75 = Math.round(0.75 * (Spending[e].length)) - 1;\n\t\t\t\tif ((e !== 'FebruaryR1') && (e !== 'FebruaryR2')) {\n\t\t\t\t\tif (e === 'February') {\n\n\t\t\t\t\t\ttooltipSpendTable[month[e] + '#' + String(iter)] = {\n\t\t\t\t\t\t\t'Value': SpendingMean[month[e]].toFixed(2) + '%',\n\t\t\t\t\t\t\t'Mean': (Spending[e].reduce((a: number, b: number) => a + b, 0) / Spending[e].length).toFixed(2),\n\t\t\t\t\t\t\t'25 %': String((Spending[e]).sort((a: number, b: number) => a - b)[percentile_25]),\n\t\t\t\t\t\t\t'50 %': String((Spending[e]).sort((a: number, b: number) => a - b)[percentile_50]),\n\t\t\t\t\t\t\t'75 %': String((Spending[e]).sort((a: number, b: number) => a - b)[percentile_75]),\n\t\t\t\t\t\t\t'Count': String(Spending[e].length)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet FebRMean: number = 0;\n\t\t\t\t\t\tif (e === 'May') {\n\n\t\t\t\t\t\t\tFebRMean = Spending['FebruaryR1'].reduce((a: number, b: number) => a + b, 0) /\n\t\t\t\t\t\t\t\tSpending['FebruaryR1'].length\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ((e === 'August') || (e === 'AugExp')) {\n\n\t\t\t\t\t\t\tFebRMean = Spending['FebruaryR2'].reduce((a: number, b: number) => a + b, 0) /\n\t\t\t\t\t\t\t\tSpending['FebruaryR2'].length\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e !== 'AugExp') {\n\t\t\t\t\t\t\ttooltipSpendTable[month[e] + '#' + String(iter)] = {\n\t\t\t\t\t\t\t\t'Value': SpendingMean[month[e]].toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'Mean': ((SpendingMean[month[e]] / 100) * FebRMean).toFixed(2),\n\t\t\t\t\t\t\t\t'25 %': ((Spending[e]).sort((a: number, b: number) => a - b)[percentile_25] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'50 %': ((Spending[e]).sort((a: number, b: number) => a - b)[percentile_50] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'75 %': ((Spending[e]).sort((a: number, b: number) => a - b)[percentile_75] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'Count': String(Spending[e].length)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttooltipSpendTable[month[e] + '#' + String(iter)] = {\n\t\t\t\t\t\t\t\t'Value': SpendingExpMean[month[e]].toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'Mean': ((SpendingExpMean[month[e]] / 100) * FebRMean).toFixed(2),\n\t\t\t\t\t\t\t\t'25 %': ((Spending[e]).sort((a: number, b: number) => a - b)[percentile_25] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'50 %': ((Spending[e]).sort((a: number, b: number) => a - b)[percentile_50] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'75 %': ((Spending[e]).sort((a: number, b: number) => a - b)[percentile_75] * 100).toFixed(2) + '%',\n\t\t\t\t\t\t\t\t'Count': String(Spending[e].length)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\ttoolListSpend = Object.assign({}, toolListSpend, tooltipSpendTable);\n\n\t\t\tlet passedData: [string, number][];\n\t\t\tlet ExpPassedData: [string, number][];\n\n\t\t\thelper.generateElements([['line', 1]], 'LineArea', gLinks, 'path');\n\t\t\tif (filter_List.type === 'None') {\n\t\t\t\tg.selectAll('.LineArea')\n\t\t\t\t\t.transition().duration(500)\n\t\t\t\t\t.style('opacity', 0.2);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tg.selectAll('.LineArea')\n\t\t\t\t\t.transition().duration(500)\n\t\t\t\t\t.style('opacity', 0)\n\t\t\t}\n\n\t\t\tif ((index < 4)) {\n\n\t\t\t\ttoolList = toolListInc\n\t\t\t\tpassedData = Object.entries(IncomeMean);\n\t\t\t\tExpPassedData = Object.entries(ExpMean);\n\t\t\t\t// [linearScale, bandScale] = helper.generateAxis(Object.keys(eName),\n\t\t\t\t// \t[Math.min(-45, 1.3 * Number(min(Object.values(IncomeMean)))), Math.max(15, 1.3 * Number(max(Object.values(IncomeMean))))], [0, innerWidth], [innerHeight, 0])\n\t\t\t\t// bandScale.padding(1)\n\n\t\t\t\tif (iter === 0) {\n\n\t\t\t\t\tlinearScale =\n\t\t\t\t\t\td3.scaleLinear()\n\t\t\t\t\t\t\t.domain([Math.min(-45, 1.3 * Number(min(Object.values(IncomeMean)))), Math.max(15, 1.3 * Number(max(Object.values(IncomeMean))))])\n\t\t\t\t\t\t\t.range([innerHeight, 0])\n\t\t\t\t\tbandScale =\n\t\t\t\t\t\td3.scaleTime()\n\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\t.domain([new Date(2020, 0, 1), new Date(2020, 10, 31)])\n\t\t\t\t\t\t\t.range([0, innerWidth])\n\t\t\t\t}\n\n\t\t\t\tpassedList.push(passedData)\n\t\t\t\tpassedExpList.push(ExpPassedData)\n\n\t\t\t\tif (filter_List.type === 'None') {\n\t\t\t\t\tlegend = {\n\t\t\t\t\t\t'Legend': color,\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlegendDot = {\n\t\t\t\t\t'Expected': navy\n\t\t\t\t}\n\n\t\t\t\tif (filter_List.type === 'None') {\n\n\t\t\t\t\tlet area: any = d3.area().x((d) => bandScale(new Date(2020, d[0], 1)))\n\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t.y0((d) => linearScale(d[1][0]))\n\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t.y1((d) => linearScale(d[1][1]))\n\n\t\t\t\t\tg.selectAll('.LineArea')\n\t\t\t\t\t\t.datum(passedIncomeCI)\n\t\t\t\t\t\t.transition().delay(500)\n\t\t\t\t\t\t.transition().duration(500)\n\t\t\t\t\t\t.attr(\"d\", area);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if ((index === 4)) {\n\n\t\t\t\ttoolList = toolListSpend\n\t\t\t\tpassedData = Object.entries(SpendingMean);\n\t\t\t\tExpPassedData = Object.entries(SpendingExpMean);\n\n\t\t\t\t// [linearScale, bandScale] = helper.generateAxis(Object.keys(eName),\n\t\t\t\t// \t[Math.min(-45, 1.3 * Number(min(Object.values(IncomeMean)))), Math.max(15, 1.3 * Number(max(Object.values(SpendingMean))))], [0, innerWidth], [innerHeight, 0])\n\t\t\t\t// bandScale.padding(1)\n\n\t\t\t\tif (iter === 0) {\n\n\t\t\t\t\tlinearScale =\n\t\t\t\t\t\td3.scaleLinear()\n\t\t\t\t\t\t\t.domain([Math.min(-45, 1.3 * Number(min(Object.values(SpendingMean)))), Math.max(15, 1.3 * Number(max(Object.values(SpendingMean))))])\n\t\t\t\t\t\t\t.range([innerHeight, 0])\n\t\t\t\t\tbandScale =\n\t\t\t\t\t\td3.scaleTime()\n\t\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\t\t.domain([new Date(2020, 0, 1), new Date(2020, 10, 31)])\n\t\t\t\t\t\t\t.range([0, innerWidth])\n\t\t\t\t}\n\n\t\t\t\tpassedList.push(passedData)\n\t\t\t\tpassedExpList.push(ExpPassedData)\n\n\t\t\t\tif (filter_List.type === 'None') {\n\t\t\t\t\tlegend = {\n\t\t\t\t\t\t'Legend': color\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlegendDot = {\n\t\t\t\t\t'Expected': navy\n\t\t\t\t}\n\n\t\t\t\tlet area: any = d3.area().x((d) => bandScale(new Date(2020, d[0], 1)))\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t.y0((d) => linearScale(d[1][0]))\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t.y1((d) => linearScale(d[1][1]))\n\n\t\t\t\tg.selectAll('.LineArea')\n\t\t\t\t\t.datum(passedSpendingCI)\n\t\t\t\t\t.transition().delay(500)\n\t\t\t\t\t.transition().duration(500)\n\t\t\t\t\t.attr(\"d\", area)\n\t\t\t}\n\n\t\t\tconst xAxis = d3.axisBottom(bandScale)\n\t\t\t\t.tickValues([new Date(2020, 0, 1), new Date(2020, 1, 1), new Date(2020, 4, 1), new Date(2020, 7, 1),\n\t\t\t\tnew Date(2020, 9, 1), new Date(2020, 11, 1)])\n\t\t\t\t//@ts-ignore\n\t\t\t\t.tickFormat(d3.timeFormat(\"%b\"));\n\n\t\t\tconst tick: any = \"\"\n\n\t\t\thelper.showXAxis(xAxis, g, innerHeight, innerWidth, xLabel)\n\t\t\thelper.showXGrid(xAxis.tickSize(-innerHeight).tickFormat(tick), g)\n\n\t\t\tconst yAxis = d3.axisLeft(linearScale)\n\t\t\thelper.showYAxis(yAxis, g, innerHeight, innerWidth, yLabel, margin)\n\t\t\thelper.showYGrid(yAxis.tickSize(-innerWidth).tickFormat(tick), g)\n\n\t\t\tg.select('.yGrid')\n\t\t\t\t.selectAll('g.tick')\n\t\t\t\t.filter((d) => d == 0)\n\t\t\t\t.select('line')\n\t\t\t\t.style('stroke-width', 2)\n\t\t\t\t.style('stroke', 'red')\n\t\t}\n\n\t\thelper.makeLineMonth({\n\t\t\tgLinks: gLinks, bandScale: bandScale,\n\t\t\tlinearScale: linearScale, passedList: passedList\n\t\t})\n\t\thelper.makeLineMonth({\n\t\t\tgLinks: gLinks, bandScale: bandScale,\n\t\t\tlinearScale: linearScale, passedExpList: passedExpList,\n\t\t\ttype: 'Exp'\n\t\t})\n\n\t\tconst nLegends = Object.entries(legend).length\n\t\tconsole.log('count', nLegends)\n\t\thelper.showLegend(legend, g)\n\t\thelper.showLegendDot(legendDot, g, true, nLegends)\n\n\t\tif (filter_List.type !== 'None') {\n\t\t\tg.selectAll('.legend')\n\t\t\t\t.attr('transform', `translate(${bandScale(new Date(2020, 11, 1)) - 130},${linearScale(linearScale.domain()[0] + 14)})`)\n\t\t} else {\n\t\t\tg.selectAll('.legend')\n\t\t\t\t.attr('transform', `translate(${bandScale(new Date(2020, 11, 1)) - 80},${linearScale(linearScale.domain()[0] + 13)})`)\n\t\t}\n\t\tlet combinedList: [string, number][] = []\n\t\tlet nLoop = 0\n\t\tpassedList.forEach((e) => {\n\t\t\te.forEach((i) => {\n\t\t\t\tcombinedList.push([i[0] + '#' + String(nLoop), i[1]])\n\t\t\t})\n\t\t\tnLoop += 1\n\t\t})\n\t\tnLoop = 0\n\t\tpassedExpList.forEach((e) => {\n\t\t\te.forEach((i) => {\n\t\t\t\tcombinedList.push([i[0] + '#' + String(nLoop), i[1]])\n\t\t\t})\n\t\t\tnLoop += 1\n\t\t})\n\t\thelper.highlightLine({ data: combinedList, selection: gNodes, bandScale: bandScale, linearScale: linearScale, tooltipTable: toolList, month: true })\n\n\t\tg.attr('transform', `translate(${margin.left},${margin.top})`)\n\t}\n\n\tlet activeIndex = 0;\n\tlet lastIndex = -1;\n\n\tconst scrollVis = (index: number) => {\n\t\tconst g = d3.select('#IncomeSVG')\n\n\t\thelper.createGrid(g, innerHeight)\n\t\thelper.createAxis(g, innerHeight)\n\t\thelper.generateElements([['legend', 1]], 'legend', g, 'g')\n\t\thelper.generateElements([['links', 1]], 'links', g, 'g')\n\t\thelper.generateElements([['nodes', 1]], 'nodes', g, 'g')\n\n\t\tactiveIndex = index;\n\n\t\tconst sign = (activeIndex - lastIndex) < 0 ? -1 : 1;\n\t\tconst scrolledSections = [activeIndex]\n\n\t\tscrolledSections.forEach(function (i) {\n\t\t\tIncome(i);\n\t\t});\n\t\tlastIndex = activeIndex;\n\t};\n\n\tconst pan = d3.select('.' + section)\n\n\tuseEffect(() => {\n\t\tif (cardInd === 1) {\n\t\t\tset_filterComb('F1')\n\t\t}\n\t\telse if (cardInd === 2) {\n\t\t\tset_filterComb('Education')\n\t\t}\n\t\telse if (cardInd === 3) {\n\t\t\tset_filterComb('Area')\n\t\t}\n\t\telse {\n\t\t\tset_filterComb('None')\n\t\t}\n\t\tset_filterRDD(\"RDD\")\n\t}, [cardInd, isVisible]);\n\n\tuseEffect(() => {\n\t\tset_filter('Overall')\n\t\tset_filterIncome('F0')\n\t\tset_filterEducation('None')\n\t\tset_filterList({\n\t\t\ttype: 'None',\n\t\t\tfilters: []\n\t\t})\n\t\tif (filter_Comb != 'None') {\n\n\t\t\tif ((filter_Comb === 'Rural') || (filter_Comb === 'Urban')) {\n\t\t\t\tset_filter(filter_Comb)\n\t\t\t}\n\t\t\telse if ((filter_Comb === 'F1') || (filter_Comb === 'F2')) {\n\t\t\t\tset_filterIncome(filter_Comb)\n\t\t\t}\n\t\t\telse if (filter_Comb === 'Education') {\n\t\t\t\tset_filterList({\n\t\t\t\t\ttype: filter_Comb,\n\t\t\t\t\tfilters: ['Dropped out Before Matric', 'Matric', 'More than Matric']\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if (filter_Comb === 'Income') {\n\t\t\t\tset_filterList({\n\t\t\t\t\ttype: filter_Comb,\n\t\t\t\t\tfilters: ['F1', 'F23']\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if (filter_Comb === 'Area') {\n\t\t\t\tset_filterList({\n\t\t\t\t\ttype: filter_Comb,\n\t\t\t\t\tfilters: ['Rural', 'Urban']\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tset_filterEducation(filter_Comb)\n\t\t\t}\n\t\t}\n\t}, [filter_Comb]);\n\t// const EduBucket: Record<string, number[]> = {\n\t// \t'Dropped out Before Matric': [1, 2],\n\t// \t'Matric': [3],\n\t// \t'More than Matric': [4, 5, 6, 7, 8, 9]\n\t// }\n\tuseEffect(() => {\n\n\t\t(window.matchMedia(\"(max-width: 767px)\").matches) ?\n\t\t\tset_openFilter('0vh') : set_openFilter('auto');\n\t\tif (isVisible) {\n\t\t\tpan.selectAll('.card')\n\t\t\t\t.style('opacity', function (d, i) { return i === cardInd ? 1 : 0.3; });\n\n\t\t\td3.select('#IncomeSVG')\n\t\t\t\t.style('opacity', 1);\n\t\t\tscrollVis(cardInd);\n\t\t} else {\n\t\t\tpan.selectAll('.card')\n\t\t\t\t.style('opacity', 0.4);\n\n\t\t\td3.select('#IncomeSVG')\n\t\t\t\t.style('opacity', 0.4);\n\t\t}\n\t\tset_graphic(999)\n\t}, [isVisible, cardInd, data, width, height, filter_val, filter_Income, filter_Education, filter_RDD, filter_List]);\n\n\treturn <div id='Income' className=\"section\" style={{ width: `${width}`, height: `${((height + 120) * 5) + 400}px` }}>\n\t\t<div id='graphic' className={section} style={{ zIndex: graphicFilter }}>\n\t\t\t<div id=\"0\" className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"1\" className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"2\" className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"3\" className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* <div id=\"4\" className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tSAVINGS<br /><br />The Average savings decreased in May to 86% of\n\t\t\t\t\twhat it was in February.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"5\" className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tSAVINGS (Feb Income Below Min Wage)<br /><br />People with income less than 17.5k have\n\t\t\t\t\tbeen most succesful in achieving a savings rate similar to that of February.\n\t\t\t\t</div>\n\t\t\t</div> */}\n\t\t</div>\n\t\t<div id='vis' style={{ height: height + 120 }} >\n\t\t\t<svg width={width} height={height + 20} >\n\t\t\t\t<g id='IncomeSVG' />\n\t\t\t</svg>\n\t\t\t<div id=\"filter\" style={{ gridTemplateColumns: 'repeat(2, 1fr)', height: openFilter, width: width }}>\n\t\t\t\t<span className=\"close\" onClick={() => { set_openFilter('0vh'); set_graphic(999) }}>&times;</span>\n\t\t\t\t<IncomeCombFilt set_filterIncomeComb={set_filterComb} value={filter_Comb} />\n\t\t\t\t<filter.RDDFilter set_filter={set_filterRDD} value={filter_RDD} />\n\t\t\t</div>\n\t\t\t<button className='Filter_Button' onClick={() => {\n\t\t\t\tif (openFilter == '0vh') {\n\t\t\t\t\tset_openFilter('20vh'); set_graphic(-1)\n\t\t\t\t} else {\n\t\t\t\t\tset_openFilter('0vh'); set_graphic(999)\n\t\t\t\t}\n\t\t\t}}>Filters</button>\n\t\t</div>\n\t</div >\n}\n\nexport default TestIncome;","import * as d3 from 'd3'\nimport { off } from 'process';\n\nfunction scroller(container: d3.Selection<d3.BaseType, unknown, HTMLElement, any>,\n\tels: d3.Selection<d3.BaseType, unknown, d3.BaseType, unknown>, y: number) {\n\n\tlet sections: d3.Selection<d3.BaseType, unknown, d3.BaseType, unknown>;\n\tlet sectionPositions: number[] = [];\n\tlet containerStart = 0;\n\n\tsections = els;\n\n\tlet startPos: number;\n\tsections.each(function (d, i: number) {\n\t\t//@ts-ignore\n\t\tlet top = this.getBoundingClientRect().top;\n\t\t//@ts-ignore\n\t\t// console.log('TOP', this.getBoundingClientRect(), top)\n\t\t//@ts-ignore\n\t\t// console.log('scroller', this.getBoundingClientRect())\n\t\tif (i === 0) {\n\t\t\tstartPos = top;\n\t\t}\n\t\tsectionPositions.push(top - startPos);\n\t});\n\n\t//@ts-ignore\n\tcontainerStart = container.node().getBoundingClientRect().top + y;\n\n\tlet offset = 200;\n\n\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\n\t\toffset = 0\n\t}\n\n\t// let pos1 = y + offset - containerStart;\n\t//@ts-ignore\n\tlet pos = offset - container.node().getBoundingClientRect().top;\n\tlet sectionIndex;\n\tif (sectionPositions.length === 0) {\n\t\tsectionIndex = 0;\n\t}\n\telse {\n\t\tsectionIndex = 0\n\n\t\tif (pos >= sectionPositions[sectionPositions.length - 1]) {\n\t\t\tsectionIndex = sectionPositions.length - 1\n\t\t} else {\n\t\t\tfor (var i = 0; i < sectionPositions.length - 1; i++) {\n\t\t\t\tif (pos >= sectionPositions[i] && pos < sectionPositions[i + 1]) {\n\t\t\t\t\tsectionIndex = i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// console.log('node', container.node())\n\t// console.log('secpos', sectionPositions)\n\t// console.log('pos', pos)\n\t// console.log('sec index', sectionIndex)\n\t// console.log('Con start', containerStart)\n\t//@ts-ignore\n\t// console.log('cont top', container.node().getBoundingClientRect().top )\n\n\n\treturn sectionIndex\n\n\t// let prevIndex = Math.max(sectionIndex - 1, 0);\n\t// let prevTop = sectionPositions[prevIndex];\n\t// let progress = (pos - prevTop) / (sectionPositions[sectionIndex] - prevTop);\n}\n\nexport default scroller;\n","import React from 'react'\n\ninterface P {\n\tset_filterAreaEdu: Function\n\tvalue: string\n}\n\nconst AreaEduFilter: React.FC<P> = ({ set_filterAreaEdu, value }) => {\n\n\treturn <label className='FiltLab'>Filters\n\t<select id='CombFilterDropdown' className='Filter' onChange={e => set_filterAreaEdu(e.target.value)} value={value} >\n\t\t\t<option value=\"None\">None</option>\n\t\t\t<option value='Rural'>Rural</option>\n\t\t\t<option value='Urban'>Urban</option>\n\t\t\t<option value='Dropped out Before Matric'>Dropped out before Matric</option>\n\t\t\t<option value='Matric'>Matric</option>\n\t\t\t<option value='More than Matric'>More than Matric</option>\n\t\t</select>\n\t</label>\n\n}\nexport default AreaEduFilter\n","import React, { useEffect, useState } from 'react'\nimport * as d3 from 'd3'\nimport { max } from 'd3'\nimport * as helper from './helperFunctions'\n\ninterface P {\n    filter_Education: string\n    filter_RDD: string\n    filter_Round: number\n    filter_val: string\n    width: number\n    height: number\n    cardInd: number\n    data: RootReducerState['raw_data']\n}\n\nconst ordering: Record<string, number> = {\n    \"Extremely effective\": 1,\n    \"Mostly effective\": 2,\n    \"Moderately effective\": 3,\n    'Mostly ineffective': 4,\n    \"Not effective at all\": 5,\n}\n\nconst EduBucket: Record<string, number[]> = {\n    'Dropped out Before Matric': [1, 2],\n    'Matric': [3],\n    'More than Matric': [4, 5, 6, 7, 8, 9]\n}\n\nfunction TestShowLockEffect({ filter_Education, filter_RDD, filter_Round, filter_val, width, height, cardInd, data }: P) {\n\n    const margin = { top: 60, right: 20, bottom: 20, left: 45 }\n    const filter_Income = 'F0'\n    const innerWidth = width - margin.left - margin.right\n    const innerHeight = height - margin.top - margin.bottom\n\n    function showLock() {\n\n        let LowerLimit: number = 0;\n        let UpperLimit: number = Number.MAX_VALUE;\n\n        let q_key = \"lt_11\"\n        let n = 0;\n        const LockEffect = Object.values(data)\n            .reduce((agg: Record<string, number>, curr: any) => {\n                (curr.Round == 1) ? q_key = \"lt_11\" : q_key = \"s7_2\";\n                if (curr[q_key] !== undefined && curr['Round'] == filter_Round && (filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true)) {\n                    if ((filter_val !== \"Overall\" ? curr.lt_1 === filter_val : true)\n                        && (filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n                        if (curr['i_6'] !== undefined && curr['i_6'] > LowerLimit\n                            && curr['i_6'] <= UpperLimit) {\n\n                            agg[curr[q_key]] = (agg[curr[q_key]] || 0) + 1\n\n                            n += 1\n                        }\n                    }\n                }\n                return agg\n            }, {})\n\n        const tooltipLockEffect: Record<string, Record<string, string>> = {}\n        Object.keys(LockEffect).forEach(e => {\n            tooltipLockEffect[e] = {\n                'Value': (100 * LockEffect[e] / n).toFixed(2) + '%',\n                'Count': String(LockEffect[e]),\n            };\n        })\n\n        Object.keys(LockEffect).forEach((e) => LockEffect[e] = LockEffect[e] / n * 100)\n\n        const order_by_ordering = ([k1,]: [string, any], [k2,]: [string, any]) => ordering[k2] - ordering[k1]\n        const passedData = Object.entries(LockEffect).sort(order_by_ordering)\n        const [linearScale, bandScale] = helper.generateAxis(Object.keys(ordering), [0, Math.max(50, Number(max(Object.values(LockEffect))))], [0, innerWidth], [innerHeight, 0])\n        const xLockEffectAxis = d3.axisBottom<any>(bandScale)\n        const yLockEffectAxis = d3.axisLeft<any>(linearScale)\n\n        const g = d3.select('#MissedPaymentsSVG')\n\n        helper.generateElements([], 'BarFoodGroupU', g)\n        helper.generateElements([], 'BarFoodGroup', g)\n        g.selectAll('.legendCircle')\n            .data([])\n            .join(\n                enter => enter,\n                update => update,\n                exit => exit\n                    .transition().duration(650)\n                    .attr('r', 0)\n                    .remove(),\n            )\n        helper.generateElements([], 'legend', g)\n\n        const t = g.transition().duration(650);\n\n        bandScale.padding(0.2)\n\n        helper.generateVertBars(passedData, 'BarGraph', g, linearScale)\n\n        g.selectAll('.BarGraph')\n            .call(s => s.transition(t)\n                .attr('width', bandScale.bandwidth())\n                .attr('x', (d: any) => bandScale(d[0]))\n                .attr('y', (d: any) => linearScale(d[1]))\n                .attr('height', (d: any) => Math.max(0, linearScale(linearScale.domain()[1] - d[1])))\n\t\t\t\t.delay((d, i) => (i * 60)))\n\n        helper.highlightVertBar({\n            selection: g, bandScale: bandScale, linearScale: linearScale,\n            className: 'BarGraph', margin: margin,\n            tooltipTable: tooltipLockEffect\n        })\n\n\n\n        let plotTitle = \"Vertical Bar Chart\"\n\n        const yLabel = 'Percentage (%)'\n\n        helper.plotTitle(g, innerWidth, plotTitle)\n        helper.showXAxis(xLockEffectAxis, g)\n        helper.showYAxis(yLockEffectAxis, g, innerHeight, innerWidth, yLabel, margin)\n\n        g.transition().duration(650)\n            .attr('transform', `translate(${margin.left},${margin.top})`)\n    };\n\n    let activeIndex = 0;\n    let lastIndex = -1;\n\n    const scrollVis = (index: number) => {\n\n        const g = d3.select('#MissedPaymentsSVG')\n\n        // helper.createAxis(g, innerHeight)\n        activeIndex = index;\n        const sign = (activeIndex - lastIndex) < 0 ? -1 : 1;\n        const scrolledSections = [activeIndex]\n\n        scrolledSections.forEach(function (i) {\n            showLock();\n        });\n        lastIndex = activeIndex;\n\n        // (window.matchMedia(\"(max-width: 767px)\").matches) ?\n        // \tset_openFilter('0vh') : set_openFilter('auto');\n    };\n    scrollVis(cardInd);\n\n    // const pan = d3.select('.' + section)\n\n    // useEffect(() => {\n    // \tset_filter('Overall')\n    // \tset_filterIncome('F0')\n    // \tset_filterEducation('None')\n    // \tif (filter_Comb != 'None') {\n\n    // \t\tif ((filter_Comb == 'Rural') || (filter_Comb == 'Urban')) {\n    // \t\t\tset_filter(filter_Comb)\n    // \t\t}\n    // \t\telse if ((filter_Comb == 'F1') || (filter_Comb == 'F2')) {\n    // \t\t\tset_filterIncome(filter_Comb)\n    // \t\t}\n    // \t\telse {\n    // \t\t\tset_filterEducation(filter_Comb)\n    // \t\t}\n    // \t}\n    // }, [filter_Comb]);\n\n    // useEffect(() => {\n\n    // \tif (isVisible) {\n    // \t\tpan.selectAll('.card')\n    // \t\t\t.style('opacity', function (d, i) { return i === cardInd ? 1 : 0.3; });\n\n    // \t\td3.select('#MissedPaymentsSVG')\n    // \t\t\t.style('opacity', 1);\n    // \t\tscrollVis(cardInd);\n    // \t} else {\n    // \t\tpan.selectAll('.card')\n    // \t\t\t.style('opacity', 0.4);\n\n    // \t\td3.select('#MissedPaymentsSVG')\n    // \t\t\t.style('opacity', 0.4);\n    // \t}\n    // \tset_graphic(999)\n    // }, [isVisible, cardInd, data, width, height, filter_val, filter_Round, filter_Income, filter_Education, filter_RDD]);\n    // (height/0.72) * 2}px`\n    // return <div id='LockEffect' className=\"section\" style={{ width: `${width}`, height: `${((height + 120) * 2) + 100}px` }}>\n    // \t<div id='graphic' className={section} style={{ zIndex: graphicFilter }}>\n    // \t\t<div className=\"card\" >\n    // \t\t\t<div className=\"content\">\n    // \t\t\t\tLOCKDOWN EFFECTIVENESS<br /><br />Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n    // \t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n    // \t\t\t</div>\n    // \t\t</div>\n    // \t</div>\n    // \t<div id='vis' style={{ height: height + 120 }}>\n    // \t\t<svg width={width} height={height + 20} >\n    // \t\t\t<g id=\"MissedPaymentsSVG\" />\n    // \t\t</svg>\n    // \t\t<div id=\"filter\" style={{ gridTemplateColumns: 'repeat(2, 1fr)', height: openFilter, width: width }}>\n    // \t\t\t<span className=\"close\" onClick={() => { set_openFilter('0vh'); set_graphic(999) }}>&times;</span>\n    // \t\t\t<AreaIncEduFilter set_filterAreaIncEdu={set_filterComb} value={filter_Comb} />\n    // \t\t\t<filter.RoundFilter set_filter={set_filterRound} value={filter_Round} />\n    // \t\t\t{/* <filter.RDDFilter set_filter={set_filterRDD} value={filter_RDD} /> */}\n    // \t\t</div>\n    // \t\t<button className='Filter_Button' onClick={() => {\n    // \t\t\tif (openFilter == '0vh') {\n    // \t\t\t\tset_openFilter('30vh'); set_graphic(-1)\n    // \t\t\t} else {\n    // \t\t\t\tset_openFilter('0vh'); set_graphic(999)\n    // \t\t\t}\n    // \t\t}}>Filters</button>\n    // \t</div>\n    // </div>\n}\n\nexport default TestShowLockEffect;","import React, { useEffect, useState } from 'react'\nimport * as d3 from 'd3'\nimport * as helper from '../helperFunctions'\n\ninterface P {\n    filter_Education: string\n    filter_RDD: string\n    width: number\n    height: number\n    cardInd: number\n    data: RootReducerState['raw_data']\n}\n\nconst EduBucket: Record<string, number[]> = {\n    'Dropped out Before Matric': [1, 2],\n    'Matric': [3],\n    'More than Matric': [4, 5, 6, 7, 8, 9]\n}\n\nfunction FoodClusFunc({ filter_Education, filter_RDD, width, height, cardInd, data }: P) {\n\n    const margin = { top: 60, right: 20, bottom: 20, left: 45 }\n    // const [openFilter, set_openFilter] = useState('0vh')\n\n    const innerWidth = width - margin.left - margin.right\n    const innerHeight = height - margin.top - margin.bottom\n    const assign: Record<string, Record<string, number>> = {\n        'Urban': {\n            'Round U1': 0,\n            'Round U2': 0\n        },\n        'Rural': {\n            'Round 1': 0,\n            'Round 2': 0\n        }\n    }\n    function FoodClus() {\n\n        let Ur1 = 0;\n        let Ur2 = 0;\n        let Rr1 = 0;\n        let Rr2 = 0;\n        const Food = Object.values(data)\n            .reduce((agg: Record<string, Record<string, number>>, curr: any) => {\n                if (curr.fi_1 !== undefined && (filter_RDD !== \"None\" ? curr.prefix == filter_RDD : true)) {\n                    if ((filter_Education !== \"None\" ? EduBucket[filter_Education].includes(curr.i_0) : true)) {\n\n                        if (curr.Round == 1) {\n                            if (curr.lt_1 == 'Urban') {\n                                Ur1 += 1\n                            }\n                            else if (curr.lt_1 == 'Rural') {\n                                Rr1 += 1\n                            }\n                        }\n                        else {\n                            if (curr.lt_1 == 'Urban') {\n                                Ur2 += 1\n                            }\n                            else if (curr.lt_1 == 'Rural') {\n                                Rr2 += 1\n                            }\n                        }\n                        if (curr.fi_1 == 0) {\n\n                            if (curr.Round == 1) {\n                                if (curr.lt_1 == 'Urban') {\n                                    agg['Urban']['Round U1'] += 1\n                                }\n                                else if (curr.lt_1 == 'Rural') {\n                                    agg['Rural']['Round 1'] += 1\n                                }\n                            }\n                            else if (curr.Round == 2) {\n                                if (curr.lt_1 == 'Urban') {\n                                    agg['Urban']['Round U2'] += 1\n                                }\n                                else if (curr.lt_1 == 'Rural') {\n                                    agg['Rural']['Round 2'] += 1\n                                }\n                            }\n                        }\n                    }\n                }\n                return agg\n            }, assign)\n\n        // console.log('Food', Food, 'Rural R1:', Rr1,'Urban R1:', Ur1,'Rural R2:', Rr2,'Urban R2:', Ur2)\n\n        let n = 0\n        const tooltipFood: Record<string, Record<string, string>> = {}\n        Object.keys(Food).forEach(e => {\n            Object.keys(Food[e]).forEach(r => {\n\n                if (e == 'Urban') {\n                    ((r == 'Round U1')) ? n = Ur1 : n = Ur2;\n                }\n                if (e == 'Rural') {\n                    ((r == 'Round 1')) ? n = Rr1 : n = Rr2;\n                }\n                tooltipFood[r] = {\n                    'Value': (100 * Food[e][r] / n).toFixed(2) + '%',\n                    'Count': String(Food[e][r]),\n                };\n                Food[e][r] = 100 * Food[e][r] / n\n            });\n        })\n        // const order_by_ordering = ([k1,]: [string, any], [k2,]: [string, any]) => ordering[k2] - ordering[k1]\n        const passedData: [string, Record<string, number>][] = Object.entries(Food)\n\n        const [linearScale, bandScale] = helper.generateAxis(Object.keys(Food),\n            [0, 40], [0, innerWidth], [innerHeight, 0])\n\n        const xSubgroup = d3.scaleBand()\n            .domain(['Round 1', 'Round 2'])\n            .range([bandScale.bandwidth() * 0.05, bandScale.bandwidth() * 0.95])\n            .padding(0.1);\n\n        const xSubgroup2 = d3.scaleBand()\n            .domain(['Round U1', 'Round U2'])\n            .range([bandScale.bandwidth() * 0.05, bandScale.bandwidth() * 0.95])\n            .padding(0.1);\n\n        const xFoodAxis = d3.axisBottom<any>(bandScale)\n        const yFoodAxis = d3.axisLeft<any>(linearScale)\n\n        const g = d3.select('#MissedPaymentsSVG')\n        const t = g.transition().duration(650);\n        let legend: Record<string, string> = {}\n\n        bandScale.padding(0)\n\n        helper.generateElements([], 'BarGraph', g)\n\n        if (!isNaN(Object.values(passedData[0][1])[0])) {\n\n            g.selectAll('.gBarFood')\n                .data(passedData)\n                .join(\n                    enter => enter.append('g')\n                        .attr(\"transform\", (d: any) => {\n                            return \"translate(\" + bandScale(d[0]) + \",0)\";\n                        })\n                        .attr('class', 'gBarFood'),\n\n                    update => update.\n                        attr(\"transform\", (d: any) => {\n                            return \"translate(\" + bandScale(d[0]) + \",0)\";\n                        }),\n                    exit => exit\n                        .remove(),\n                )\n                .selectAll('rect')\n                .data((d: any) => {\n                    let R = ['Round 1', 'Round 2']\n                    if (d[0] == 'Urban') {\n                        R = ['Round U1', 'Round U2']\n                    }\n                    return R.map((key: any) => {\n                        return { key: key, value: d[1][key] };\n                    });\n                })\n                .join(\n                    enter => enter.append(\"rect\")\n                        .attr('class', (d) => {\n                            if ((d.key == 'Round U1') || (d.key == 'Round U2')) {\n                                return ('BarFoodGroupU')\n                            }\n                            else {\n                                return ('BarFoodGroup')\n                            }\n                        })\n                        .attr('id', (d) => 'BarFood' + d.key[d.key.length - 1])\n                        .attr('opacity', 0.9)\n                        .attr('width', (d) => {\n                            if ((d.key == 'Round U1') || (d.key == 'Round U2')) {\n                                return (xSubgroup2.bandwidth())\n                            }\n                            else {\n                                return (xSubgroup.bandwidth())\n                            }\n                        })\n                        //@ts-ignore\n                        .attr('x', (d: any) => {\n                            if ((d.key == 'Round U1') || (d.key == 'Round U2')) {\n                                return (xSubgroup2(d.key))\n                            }\n                            else {\n                                return (xSubgroup(d.key))\n                            }\n                        })\n                        .attr('y', (d: any) => {\n                            return (linearScale(d.value))\n                        })\n                        .call((s: any) => s.transition(t)\n                            .attr('height', (d: any) => {\n                                if (isNaN(d.value)) {\n                                    return (0)\n                                }\n                                return (Math.max(0, linearScale(linearScale.domain()[1] - d.value)))\n                            })),\n                    update => update\n                        .attr('width', (d) => {\n                            if ((d.key == 'Round U1') || (d.key == 'Round U2')) {\n                                return (xSubgroup2.bandwidth())\n                            }\n                            else {\n                                return (xSubgroup.bandwidth())\n                            }\n                        })\n                        //@ts-ignore\n                        .attr('x', (d: any) => {\n                            if ((d.key == 'Round U1') || (d.key == 'Round U2')) {\n                                return (xSubgroup2(d.key))\n                            }\n                            else {\n                                return (xSubgroup(d.key))\n                            }\n                        })\n                        .call((s: any) => s.transition(t)\n                            .attr('y', (d: any) => {\n                                return (linearScale(d.value))\n                            })\n                            .attr('height', (d: any) => {\n                                if (isNaN(d.value)) {\n                                    return (0)\n                                }\n                                return (Math.max(0, linearScale(linearScale.domain()[1] - d.value)))\n                            })\n                        ),\n                    exit => exit\n                        .transition().duration(650)\n                        .attr('height', 0)\n                        .remove(),\n                )\n        }\n        helper.highlightVertBar({\n            selection: g, bandScale: xSubgroup, linearScale: linearScale,\n            className: 'BarFoodGroup', margin: margin,\n            tooltipTable: tooltipFood, translate: bandScale('Rural')\n        })\n        helper.highlightVertBar({\n            selection: g, bandScale: xSubgroup2, linearScale: linearScale,\n            className: 'BarFoodGroupU', margin: margin,\n            tooltipTable: tooltipFood\n        })\n\n        legend = {\n            'Round 1': '#242424',\n            'Round 2': '#344a62',\n        }\n\n        helper.showLegend(legend, g)\n        g.selectAll('.legend')\n            .attr('transform', `translate(${bandScale.range()[1] - 130},${margin.top})`)\n\n\n        let plotTitle = \"Clustered Bar Chart\"\n\n        const yLabel = 'Percentage (%)'\n\n        helper.plotTitle(g, innerWidth, plotTitle)\n        helper.showXAxis(xFoodAxis, g)\n        helper.showYAxis(yFoodAxis, g, innerHeight, innerWidth, yLabel, margin)\n      \n        g.transition().duration(650)\n            .attr('transform', `translate(${margin.left},${margin.top})`)\n    };\n\n    const activateFunctions: any = [];\n    let activeIndex = 0;\n    let lastIndex = -1;\n\n    const scrollVis = (index: number) => {\n\n        const g = d3.select('#MissedPaymentsSVG')\n        helper.generateElements([['legend', 1]], 'legend', g, 'g')\n\n        helper.createAxis(g, innerHeight)\n        activeIndex = index;\n        const sign = (activeIndex - lastIndex) < 0 ? -1 : 1;\n        const scrolledSections = [activeIndex]\n\n        scrolledSections.forEach(function (i) {\n            FoodClus();\n        });\n        lastIndex = activeIndex;\n\n        // (window.matchMedia(\"(max-width: 767px)\").matches) ?\n        //     set_openFilter('0vh') : set_openFilter('auto');\n    };\n    scrollVis(cardInd);\n\n    // const pan = d3.select('.' + section)\n\n    // useEffect(() => {\n\n    // \tif (isVisible) {\n    // \t\tpan.selectAll('.card')\n    // \t\t\t.style('opacity', function (d, i) { return i === cardInd ? 1 : 0.3; });\n\n    // \t\td3.select('#MissedPaymentsSVG')\n    // \t\t\t.style('opacity', 1);\n    // \t\tscrollVis(cardInd);\n    // \t} else {\n    // \t\tpan.selectAll('.card')\n    // \t\t\t.style('opacity', 0.4);\n\n    // \t\td3.select('#MissedPaymentsSVG')\n    // \t\t\t.style('opacity', 0.4);\n    // \t}\n    // \tset_graphic(999)\n    // }, [isVisible, cardInd, data, width, height, filter_Education, filter_RDD]);\n    // (height/0.72) * 2}px`\n    // return <div id='FoodClus' className=\"section\" style={{ width: `${width}`, height: `${(height + 120) * 2.2}px` }}>\n    // \t<div id='graphic' className={section} style={{ zIndex: graphicFilter }}>\n    // \t\t<div className=\"card\" >\n    // \t\t\t<div className=\"content\">\n    // \t\t\t\tAmong those households which were unable to buy essential food,\n    // \t\t\t\t74% state that they did not have the money to do so, while 17% cite that some\n    // \t\t\t\titems were more expensive than usual.\n\n    // \t\t\t</div>\n    // \t\t</div>\n    // \t</div>\n    // \t<div id='vis' style={{ height: height + 120 }}>\n    // \t\t<svg width={width} height={height + 20} >\n    // \t\t\t<g id=\"MissedPaymentsSVG\" />\n    // \t\t</svg>\n    // \t\t<div id=\"filter\" style={{ gridTemplateColumns: 'repeat(1, 1fr)', height: openFilter, width: width }}>\n    // \t\t\t<span className=\"close\" onClick={() => { set_openFilter('0vh'); set_graphic(999) }}>&times;</span>\n    // \t\t\t<filter.EduFilter set_filter={set_filterEducation} value={filter_Education} />\n    // \t\t\t{/* <filter.RDDFilter set_filter={set_filterRDD} value={filter_RDD} /> */}\n    // \t\t</div>\n    // \t\t<button className='Filter_Button' onClick={() => {\n    // \t\t\tif (openFilter == '0vh') {\n    // \t\t\t\tset_openFilter('20vh'); set_graphic(-1)\n    // \t\t\t} else {\n    // \t\t\t\tset_openFilter('0vh'); set_graphic(999)\n    // \t\t\t}\n    // \t\t}}>Filters</button>\n    // \t</div>\n    // </div>\n}\nexport default FoodClusFunc;","import React, { useEffect, useState } from 'react'\nimport * as d3 from 'd3'\nimport { max } from 'd3'\nimport * as helper from '../helperFunctions'\nimport * as panel from './panelData'\nimport * as filter from 'components/Filters/Filters'\nimport AreaEduFilter from 'components/Filters/AreaEdu'\nimport LockEffect from 'components/D3Panels/LockEffectFunc'\nimport FoodClus from 'components/D3Panels/Chapter2/FoodClusFunc'\nimport {\n\tScrollingProvider,\n\tuseScrollSection,\n\tSection,\n} from 'react-scroll-section';\n//@ts-ignore\n\ninterface P {\n\twidth: number\n\theight: number\n\tcardInd: number\n\tdata: RootReducerState['raw_data']\n\tisVisible: boolean\n\tsection: string\n}\n// const order: Record<string, string> = {\n// \t\"No bill missed\": 'Tick 1',\n// \t\"Electricity Bill\":'Tick 2',\n// \t\"Loan Payment (Informal)\":'Tick 3',\n// \t\"Rent\":'Tick 4',\n// \t\"Medical Bills\":'Tick 5',\n// \t\"School Fees\":'Tick 6',\n// \t\"Gas Bill\":'Tick 7',\n// \t\"Water Bill\":'Tick 8',\n// \t\"Phone Bill\":'Tick 9',\n// \t\"Loan Payment (bank)\":'Tick 10',\n// \t\"Ration/ Store loan from local general store\":'Tick 11',\n// }\nconst MissedPayments: React.FC<P> = ({ width, height, data, cardInd, isVisible, section }) => {\n\n\tconst margin = { top: 60, right: 20, bottom: 20, left: 65 }\n\tconst [filter_val, set_filter] = useState(\"Overall\")\n\tconst [filter_Comb, set_filterComb] = useState(\"None\")\n\tconst [filter_Education, set_filterEducation] = useState(\"None\")\n\tconst [filter_Round, set_filterRound] = useState(1)\n\tconst [filter_RDD, set_filterRDD] = useState(\"None\")\n\tconst [openFilter, set_openFilter] = useState('0vh')\n\tconst [graphicFilter, set_graphic] = useState(999)\n\n\tconst innerWidth = width - margin.left - margin.right\n\tconst innerHeight = height - margin.top - margin.bottom\n\n\tfunction MissedPayments(index: number) {\n\n\t\tif ((index === 0) || (index === 1)) {\n\n\t\t\tconst MissedPayments = panel.MissedPayments(data, filter_val, filter_Round, filter_Education, filter_RDD)\n\t\t\tlet job_n = Object.values(MissedPayments).reduce((a: number, b: number) => a + b, 0)\n\n\t\t\tconst tooltipMissedPayments: Record<string, Record<string, string>> = {}\n\t\t\tObject.keys(MissedPayments).forEach(e => {\n\t\t\t\ttooltipMissedPayments[e] = {\n\t\t\t\t\t'Value': (100 * MissedPayments[e] / job_n).toFixed(2) + '%',\n\t\t\t\t\t'Count': String(MissedPayments[e]),\n\t\t\t\t};\n\t\t\t})\n\t\t\tObject.keys(MissedPayments).forEach((e) => MissedPayments[e] = 100 * MissedPayments[e] / job_n)\n\n\t\t\tconst order_by_ordering = ([a1, k1]: [any, number], [a2, k2]: [any, number]) => k2 - k1\n\n\t\t\tconst g = d3.select('#MissedPaymentsSVG')\n\t\t\thelper.generateElements([], 'gBarFood', g)\n\n\t\t\tconst t = g.transition().duration(650);\n\n\t\t\tconst [linearScale, bandScale] = helper.generateAxis(Object.entries(MissedPayments).sort(order_by_ordering).map(([a, b]) => a),\n\t\t\t\t[0, Math.max(65, Number(max(Object.values(MissedPayments))))], [0, innerHeight], [0, innerWidth])\n\n\t\t\tbandScale.padding(0.2)\n\n\t\t\tconst xAxis = d3.axisBottom(linearScale)\n\t\t\tconst yAxis = d3.axisLeft(bandScale)\n\n\t\t\tlet passedData;\n\n\t\t\tlet plotTitle = \"\"\n\t\t\tif ((index === 0) || (index === 1)) {\n\t\t\t\tplotTitle = \"Horizontal Bar Chart\"\n\t\t\t\tif (index == 1) {\n\t\t\t\t\tplotTitle = 'Horizontal Bar Chart 2'\n\t\t\t\t}\n\t\t\t\tpassedData = Object.entries(MissedPayments).sort(order_by_ordering)\n\t\t\t\thelper.generateElements(passedData, 'BarGraph', g)\n\t\t\t\tg.selectAll('.BarGraph')\n\t\t\t\t\t.call(s => s.transition(t)\n\t\t\t\t\t\t.attr('y', (d: any) => bandScale(d[0]))\n\t\t\t\t\t\t.attr('height', bandScale.bandwidth())\n\t\t\t\t\t\t.attr('width', (d: any) => Math.max(0, linearScale(d[1])))\n\t\t\t\t\t\t.attr('x', 0)\n\t\t\t\t\t\t.delay((d, i) => (i * 60))\n\t\t\t\t\t)\n\n\t\t\t\thelper.highlightBar({\n\t\t\t\t\tselection: g, bandScale: bandScale, linearScale: linearScale,\n\t\t\t\t\tclassName: 'BarGraph', margin: margin,\n\t\t\t\t\ttooltipTable: tooltipMissedPayments\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst xLabel = 'Percentage (%)';\n\t\t\tconst yLabel = 'Y-Label';\n\n\t\t\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\n\t\t\t\thelper.plotTitle(g, innerWidth, plotTitle, true, -45)\n\t\t\t} else {\n\t\t\t\thelper.plotTitle(g, innerWidth, plotTitle, false, -45)\n\t\t\t}\n\t\t\thelper.showXAxis(xAxis, g, innerHeight, innerWidth, xLabel)\n\t\t\thelper.showYAxis(yAxis, g, innerHeight, innerWidth, yLabel, margin)\n\n\t\t\tg.transition().duration(650)\n\t\t\t\t.attr('transform', `translate(${margin.left},${margin.top})`)\n\t\t}\n\t\telse if (index == 2) {\n\t\t\tLockEffect({\n\t\t\t\tfilter_Education: filter_Education, filter_RDD: filter_RDD,\n\t\t\t\tfilter_Round: filter_Round, filter_val: filter_val, width: width,\n\t\t\t\theight: height, cardInd: cardInd, data: data\n\t\t\t})\n\t\t}\n\t\telse if (index > 2) {\n\t\t\tFoodClus({\n\t\t\t\tfilter_Education: filter_Education, filter_RDD: filter_RDD,\n\t\t\t\twidth: width, height: height, cardInd: cardInd, data: data\n\t\t\t})\n\t\t}\n\t};\n\n\tlet activeIndex = 0;\n\tlet lastIndex = -1;\n\n\tconst scrollVis = (index: number) => {\n\n\t\tconst g = d3.select('#MissedPaymentsSVG')\n\n\t\thelper.createAxis(g, innerHeight)\n\t\tactiveIndex = index;\n\t\tconst sign = (activeIndex - lastIndex) < 0 ? -1 : 1;\n\t\tconst scrolledSections = [activeIndex]\n\n\t\tscrolledSections.forEach(function (i) {\n\t\t\tMissedPayments(i);\n\t\t});\n\t\tlastIndex = activeIndex;\n\n\t\t(window.matchMedia(\"(max-width: 767px)\").matches) ?\n\t\t\tset_openFilter('0vh') : set_openFilter('auto');\n\t};\n\n\tconst pan = d3.select('.' + section)\n\n\tuseEffect(() => {\n\t\tif (cardInd === 1) {\n\t\t\tset_filterRound(2)\n\t\t}\n\t\telse {\n\t\t\tset_filterRound(1)\n\t\t}\n\t\tset_filterRDD(\"None\")\n\t\tset_filterComb('None')\n\t}, [cardInd, isVisible]);\n\n\tuseEffect(() => {\n\t\tset_filter('Overall')\n\t\tset_filterEducation('None')\n\t\tif (filter_Comb != 'None') {\n\n\t\t\tif ((filter_Comb == 'Rural') || (filter_Comb == 'Urban')) {\n\t\t\t\tset_filter(filter_Comb)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tset_filterEducation(filter_Comb)\n\t\t\t}\n\t\t}\n\t}, [filter_Comb]);\n\n\tuseEffect(() => {\n\t\tif (isVisible) {\n\t\t\tpan.selectAll('.card')\n\t\t\t\t.style('opacity', function (d, i) { return i === cardInd ? 1 : 0.3; });\n\n\t\t\td3.select('#MissedPaymentsSVG')\n\t\t\t\t.style('opacity', 1);\n\t\t\tscrollVis(cardInd);\n\t\t} else {\n\t\t\tpan.selectAll('.card')\n\t\t\t\t.style('opacity', 0.4);\n\n\t\t\td3.select('#MissedPaymentsSVG')\n\t\t\t\t.style('opacity', 0.4);\n\t\t}\n\t\tset_graphic(999)\n\t}, [isVisible, cardInd, width, height, data, filter_val, filter_Round, filter_Education, filter_RDD]);\n\n\treturn <div id='MissedPayments' className=\"section\" style={{ width: `${width}`, height: `${((height + 120) * 5) + 400}px` }}>\n\t\t<div id='graphic' className={section} style={{ zIndex: graphicFilter }}>\n\t\t\t<div className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"card\" >\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.\n\t\t\t\t\tDuis facilisis suscipit dui accumsan mattis.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id='vis' style={{ height: height + 120 }}>\n\t\t\t<svg width={width} height={height + 20} >\n\t\t\t\t<g id='MissedPaymentsSVG' />\n\t\t\t</svg>\n\t\t\t<div id=\"filter\" style={{ gridTemplateColumns: 'repeat(1, 1fr)', height: openFilter, width: width }}>\n\t\t\t\t<span className=\"close\" onClick={() => { set_openFilter('0vh'); set_graphic(999) }}>&times;</span>\n\t\t\t\t<AreaEduFilter set_filterAreaEdu={set_filterComb} value={filter_Comb} />\n\t\t\t\t{/* <filter.RoundFilter set_filter={set_filterRound} value={filter_Round} /> */}\n\t\t\t\t{/* <filter.RDDFilter set_filter={set_filterRDD} value={filter_RDD} /> */}\n\t\t\t</div>\n\t\t\t<button className='Filter_Button' onClick={() => {\n\t\t\t\tif (openFilter == '0vh') {\n\t\t\t\t\tset_openFilter('30vh'); set_graphic(-1)\n\t\t\t\t} else {\n\t\t\t\t\tset_openFilter('0vh'); set_graphic(999)\n\t\t\t\t}\n\t\t\t}}>Filters</button>\n\t\t</div>\n\t</div>\n}\n\nexport default MissedPayments;","import React, { useState } from 'react'\n\nconst HeaderTop: React.FC = () => {\n\n    return <div className=\"logo-header-logo\">\n        <div className='cerpHeader'  >\n            <img src={process.env.PUBLIC_URL + '/images/rahij.jpg'} alt=\"MISSING JPG\" />\n            <div className=\"navbar-brand\">\n                <h1>Rahij Gillani</h1>\n                <div className=\"header-buttons\">\n                    <ul className='header-list'>\n                        <li>\n                            <a>MEng, Systems Design Engineering</a>\n                            {/* <img src=\"https://upload.wikimedia.org/wikipedia/en/6/6e/University_of_Waterloo_seal.svg\" /> */}\n                        </li>\n                        <li className=\"divider\">|</li>\n                        <li>\n                            <a>BS, Computer Science</a>\n                            {/* <img src=\"https://or.lums.edu.pk/sites/default/files/styles/full_width/public/default_images/lums_logo_0.gif?itok=2MvUWtw_\" /> */}\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div className='react-logo-main-cont'>\n                <p className=\"title-react-logo\">Made using React</p>\n                <div className=\"container-react-logo\">\n                    <span className=\"react-logo\">\n                        <span className=\"nucleo\"></span>\n                    </span>\n\n                </div>\n            </div>\n        </div>\n    </div>\n}\nexport default HeaderTop\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport HeaderTop from './HeaderTop';\n//@ts-ignore\nimport { HashLink } from 'react-router-hash-link';\n\ninterface P {\n    y: number;\n    VisibleInd: number;\n    SectionInd: Record<string, number>;\n    openNav: string;\n    set_openNav: Function;\n    NavBName: string;\n    set_NavBName: Function;\n}\n\nconst HeaderDashBoard: React.FC<P> = ({ y, VisibleInd, SectionInd, openNav, set_openNav, NavBName, set_NavBName }) => {\n    const [stickClass, set_NavSticky] = useState('topnav-container');\n    const [sticky, set_Sticky] = useState(Number.MAX_VALUE);\n\n    useEffect(() => {\n        const nav = document.getElementById('topnav-stick');\n        //@ts-ignore\n        set_Sticky(nav.offsetTop);\n    }, []);\n\n    useEffect(() => {\n        if (!window.matchMedia('(max-width: 767px)').matches) {\n            if (y >= sticky) {\n                set_NavSticky('topnav-container-sticky');\n            } else {\n                set_NavSticky('topnav-container');\n            }\n        }\n    }, [y, sticky]);\n\n    return (\n        <div id={stickClass} className=\"header\">\n            <HeaderTop />\n            <div id=\"topnav-stick\" className={stickClass}>\n                <div className=\"topnav\" style={{ height: openNav }}>\n                    <Link to=\"/\">\n                        <img\n                            src={process.env.PUBLIC_URL + '/images/home.svg'}\n                            alt=\"Missing png\"\n                            style={{ filter: 'invert(1)', height: '20px', width: '20px', padding: '5px' }}\n                        ></img>\n                        Home\n                    </Link>\n                    <HashLink className={String(VisibleInd === SectionInd['Income'])} to=\"#Income\">\n                        <img\n                            src={process.env.PUBLIC_URL + '/images/line.png'}\n                            alt=\"Missing png\"\n                            style={{ width: '40px', padding: '5px' }}\n                        ></img>\n                        Line Charts\n                    </HashLink>\n                    <HashLink className={String(VisibleInd === SectionInd['MissedPayments'])} to=\"#MissedPayments\">\n                        <img\n                            src={process.env.PUBLIC_URL + '/images/bar.png'}\n                            alt=\"Missing png\"\n                            style={{ height: '35px', paddingBottom: '3px' }}\n                        ></img>\n                        Bar Charts\n                    </HashLink>\n                </div>\n            </div>\n            <div\n                id={NavBName}\n                className=\"Nav_Button\"\n                onClick={() => {\n                    if (openNav == '0vh') {\n                        set_openNav('30vh');\n                        set_NavBName('Close');\n                    } else {\n                        set_openNav('0vh');\n                        set_NavBName('Navigation');\n                    }\n                }}\n            >\n                {' '}\n                <div className=\"Burger\"></div>\n                <div className=\"Burger2\"></div>\n                <div className=\"Burger3\"></div>\n            </div>\n        </div>\n    );\n};\nexport default HeaderDashBoard;\n","\nimport React from 'react'\n\ninterface P {\n\tloading: boolean\n}\nconst Loading: React.FC<P> = ({ loading }) => {\n\n\treturn <div className='loading'>\n\t\t{loading &&\n\t\t\t<div className=\"sk-chase\">\n\t\t\t\t<div className=\"sk-chase-dot\"></div>\n\t\t\t\t<div className=\"sk-chase-dot\"></div>\n\t\t\t\t<div className=\"sk-chase-dot\"></div>\n\t\t\t\t<div className=\"sk-chase-dot\"></div>\n\t\t\t\t<div className=\"sk-chase-dot\"></div>\n\t\t\t\t<div className=\"sk-chase-dot\"></div>\n\t\t\t</div>}\n\t\t{!loading && <div className=\"scrollArrow\">\n\t\t\t<div className=\"chevron\"></div>\n\t\t\t<div className=\"chevron\"></div>\n\t\t\t<div className=\"chevron\"></div>\n\t\t\t<div className=\"scrollDownText\">Scroll Down</div>\n\t\t</div>}\n\t</div>\n}\nexport default Loading;","import React, { useEffect, useState } from 'react'\nimport * as d3 from 'd3'\nimport { connect } from 'react-redux'\nimport { getRawData } from 'actions'\nimport Income from 'components/D3Panels/Chapter1/Income'\nimport scroller from 'pages/d3-main/scroller'\nimport './style.css'\nimport MissedPayments from 'components/D3Panels/Chapter1/MissedPayments'\nimport HeaderDashBoard from 'components/Header/HeaderDashBoard'\nimport Loading from 'components/Header/Loading'\n\ntype P = {\n\traw_data: RootReducerState['raw_data'];\n\tloading: RootReducerState['loading'];\n\tgetRaw: () => void;\n};\nconst MainComponent: React.FunctionComponent<P> = ({ loading, getRaw, raw_data }) => {\n\n\tconst [openNav, set_openNav] = useState('25vh')\n\tconst [NavBName, set_NavBName] = useState('Navigation')\n\t// This Height and width paramerters passed to the components is the\n\t// height and width we want our svg graph to be.\n\tconst [height, setHeight] = useState(window.innerHeight - 210)\n\tconst [width, setWidth] = useState(window.innerWidth * 0.75)\n\tconst [y, setY] = useState(250)\n\tconst [VisibleInd, setVisibleInd] = useState(-1)\n\tconst [orient, setOrient] = useState('0')\n\tconst section = ['Section_0', 'Section_1']\n\tconst [cardInd, setCardInd] = useState([-1, -1, -1]);\n\n\t//SectionInd MUST be in same Order as Order of Sections in d3-main div below\n\tconst SectionInd: Record<string, number> = {\n\t\t'Income': 0,\n\t\t'MissedPayments': 0,\n\t}\n\n\tlet n = 0\n\tObject.keys(SectionInd).forEach(e => {\n\t\tSectionInd[e] = n\n\t\tn += 1\n\t})\n\n\tuseEffect(() => {\n\t\tgetRaw()\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetY(window.pageYOffset)\n\t\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\n\t\t\tset_openNav('0vh')\n\t\t\tif (window.matchMedia(\"(orientation: landscape)\").matches) {\n\t\t\t\tsetHeight(window.innerHeight - 190)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetHeight(window.innerHeight - 190)\n\t\t\t}\n\t\t}\n\t\tif (window.matchMedia(\"(orientation: landscape)\").matches) {\n\t\t\tsetOrient('90')\n\t\t}\n\t}, [])\n\tuseEffect(() => {\n\n\t\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\n\t\t\tsetWidth(window.innerWidth * 0.95)\n\t\t\tif (window.matchMedia(\"(orientation: landscape)\").matches) {\n\t\t\t\tif (orient != '90') {\n\t\t\t\t\tsetHeight(window.innerHeight - 190)\n\t\t\t\t\tsetOrient('90')\n\t\t\t\t}\n\t\t\t} else if (orient != '0') {\n\t\t\t\tsetHeight(window.innerHeight - 190)\n\t\t\t\tsetOrient('0')\n\t\t\t}\n\t\t} else {\n\t\t\tset_openNav('94px')\n\t\t}\n\t\twindow.onscroll = () => setY(window.pageYOffset);\n\t\twindow.onresize = () => {\n\t\t\tif (window.matchMedia(\"(max-width: 767px)\").matches) {\n\n\t\t\t\t// compare new height to old height\n\t\t\t\t// only update at 20% change\n\t\t\t\tsetWidth(window.innerWidth * 0.95)\n\t\t\t\tset_openNav('0vh')\n\t\t\t\tset_NavBName('Navigation')\n\t\t\t\tif ((window.innerHeight - (height + 190)) / (height + 190) > 0.05) {\n\t\t\t\t\tsetHeight(window.innerHeight - 190)\n\t\t\t\t}\n\t\t\t\telse if (((height + 190) - window.innerHeight) / (height + 190) > 0.30) {\n\t\t\t\t\tsetHeight(window.innerHeight - 190)\n\t\t\t\t}\n\t\t\t\t// setHeight(window.innerHeight * 0.7)\n\n\t\t\t} else {\n\t\t\t\t// The viewport is at least 768 pixels wide\n\t\t\t\tsetWidth(window.innerWidth * 0.75)\n\t\t\t\tsetHeight(window.innerHeight - 210)\n\t\t\t}\n\t\t}\n\n\t}, [orient, height])\n\n\tuseEffect(() => {\n\t\tconst pan = d3.select('.d3-main')\n\t\tconst index: number = scroller(pan, pan.selectAll('.section'), y)\n\t\tsetVisibleInd(index)\n\n\t\tlet n = 0;\n\t\tsection.forEach((sec) => {\n\t\t\tconst pan = d3.select('.' + sec)\n\t\t\tlet temp = cardInd\n\t\t\ttemp[n] = scroller(pan, pan.selectAll('.card'), y)\n\t\t\tsetCardInd(temp)\n\t\t\tn += 1;\n\t\t})\n\t}, [y, section, cardInd]);\n\n\treturn (\n\t\t<div className=\"d3-main\">\n\t\t\t<HeaderDashBoard y={y} VisibleInd={VisibleInd} SectionInd={SectionInd} openNav={openNav} set_openNav={set_openNav} NavBName={NavBName} set_NavBName={set_NavBName} />\n\t\t\t<Loading loading={loading} />\n\t\t\t<div className='GraphsDiv' style={{ width: '100%', display: 'block' }}>\n\t\t\t\t<Income width={width} height={height} data={raw_data} cardInd={cardInd[SectionInd['Income']]} isVisible={VisibleInd === SectionInd['Income']} section={section[SectionInd['Income']]} />\n\t\t\t\t<MissedPayments width={width} height={height} data={raw_data} cardInd={cardInd[SectionInd['MissedPayments']]} isVisible={VisibleInd === SectionInd['MissedPayments']} section={section[SectionInd['MissedPayments']]} />\n\n\t\t\t</div>\n\n\t\t</div>\n\t);\n};\n\nexport default connect((state: RootReducerState) => ({\n\traw_data: state.raw_data,\n\tloading: state.loading\n}), (dispatch: Function) => ({\n\tgetRaw: () => dispatch(getRawData())\n}))(MainComponent)","import Syncr from '@cerp/syncr'\nimport { createLoginSucceed } from './core';\nimport { get_host } from 'config';\nimport { loadRawData } from 'utils/indexDB'\n\ntype Dispatch = (action: any) => any\ntype GetState = () => RootReducerState\n\nexport const LOADING_RAW_DATA = \"LOADING_RAW_DATA\"\nexport const GOT_RAW_DATA = \"GOT_RAW_DATA\"\n\nexport type RawDataAction = {\n\ttype: \"GOT_RAW_DATA\",\n\tdata: RawSurveyData\n}\n\nexport type LoadingAction = {\n\ttype: \"LOADING\",\n\tloading: boolean\n}\n\nexport const getRawData = () => (dispatch: Dispatch, getState: GetState) => {\n\n\tdispatch({\n\t\ttype: \"LOADING\",\n\t\tloading: true\n\t})\n\n\tlet data = require('data/evPort.json')\n\t// console.log('DATAdedee',(data['eva_raw']))\n\tlet res: RawSurveyData[] = data['eva_raw']\n\tconst retVal: RawSurveyData = Object.entries(res).reduce((agg: any, curr: any) => {\n\t\t// console.log('survey',(curr))\n\t\tagg[curr[1]['id']] = JSON.parse(curr[1]['survey'])\n\t\treturn agg\n\t}, {})\n\n\tdispatch({\n\t\ttype: GOT_RAW_DATA,\n\t\tdata: retVal\n\t})\n}\n\n// export const getRawData = () => (dispatch: Dispatch, getState: GetState) => {\n// \tdispatch({\n// \t\ttype: \"LOADING\",\n// \t\tloading: true\n// \t})\n// \tconst creds = localStorage.getItem(\"username_password\") || \"\"\n// \tconst host = get_host()\n// \tfetch(`https://${host}/raw`, {\n// \t\theaders: new Headers({\n// \t\t\t\"Authorization\": `Basic ${btoa(creds)}`\n// \t\t})\n// \t})\n// \t\t.then(res => res.json())\n// \t\t.then((chunks: RawSurveyData[]) => chunks.reduce<RawSurveyData>((agg, curr) => ({ ...agg, ...curr }), {}))\n// \t\t.then(data => dispatch({\n// \t\t\ttype: \"GOT_RAW_DATA\",\n// \t\t\tdata\n// \t\t}))\n// \t\t.catch(err => {\n// \t\t\tconsole.error(err)\n// \t\t\tlocalStorage.removeItem(\"username_password\")\n// \t\t\talert(\"error: \" + err)\n// \t\t\tsetTimeout(() => {\n// \t\t\t\twindow.location.reload()\n// \t\t\t}, 2000);\n// \t\t\tdispatch({\n// \t\t\t\ttype: \"LOADING\",\n// \t\t\t\tloading: false,\n// \t\t\t\terror: err\n// \t\t\t})\n// \t\t})\n// }\nexport const loadRawDataFromIDB = () => (dispatch: Dispatch, getState: GetState) => {\n\tloadRawData()\n\t\t.then((data) => {\n\t\t\tif (Object.values(data).length > 0) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"GOT_RAW_DATA_FROM_IDB\",\n\t\t\t\t\tdata\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('LoadRawDataIDb', error);\n\t\t})\n}\nexport const createLogin = (username: string, password: string, number: string) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\n\tconst state = getState();\n\n\tsyncr.send({\n\t\ttype: \"LOGIN\",\n\t\tclient_type: state.auth.client_type,\n\t\tclient_id: state.client_id,\n\t\tid: state.auth.id,\n\t\tpayload: {\n\t\t\tid: username,\n\t\t\tpassword\n\t\t}\n\t})\n\t\t.then((res: { token: string, sync_state: SyncState }) => {\n\t\t\tdispatch(createLoginSucceed(username, res.token, res.sync_state))\n\t\t})\n\t\t.catch(res => {\n\t\t\tconsole.error(res)\n\t\t\talert(\"login failed\" + JSON.stringify(res))\n\t\t})\n\n}","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport HeaderTop from './HeaderTop';\n\ninterface P {\n    y: number;\n    openNav: string;\n    set_openNav: Function;\n    NavBName: string;\n    set_NavBName: Function;\n}\n\nconst Header: React.FC<P> = ({ y, openNav, set_openNav, NavBName, set_NavBName }) => {\n    const [stickClass, set_NavSticky] = useState('topnav-container');\n    const [sticky, set_Sticky] = useState(Number.MAX_VALUE);\n\n    useEffect(() => {\n        const nav = document.getElementById('topnav-stick');\n        //@ts-ignore\n        set_Sticky(nav.offsetTop);\n    }, []);\n\n    useEffect(() => {\n        if (!window.matchMedia('(max-width: 767px)').matches) {\n            if (y >= sticky) {\n                set_NavSticky('topnav-container-sticky');\n            } else {\n                set_NavSticky('topnav-container');\n            }\n        } else {\n            set_NavSticky('topnav-container');\n        }\n    }, [y, sticky]);\n\n    const href = window.location.href;\n    return (\n        <div id={stickClass} className=\"header\">\n            <HeaderTop />\n            <div id=\"topnav-stick\" className={stickClass}>\n                <div className=\"topnav\" style={{ height: openNav }}>\n                    <Link className={String(href[href.length - 1] == '/')} to=\"/\" href=\"#home\">\n                        <img\n                            src={process.env.PUBLIC_URL + '/images/home.svg'}\n                            alt=\"Missing png\"\n                            style={{ filter: 'invert(1)', height: '20px', width: '20px', padding: '5px' }}\n                        ></img>\n                        Home\n                    </Link>\n                    <a\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        href=\"https://drive.google.com/file/d/1Dm8ujbYsuDd5LRwvFuBQkVWFa9g_iQyu/view?usp=sharing\"\n                    >\n                        <img src={process.env.PUBLIC_URL + '/images/res.png'} alt=\"Missing png\"></img>\n                        Resume\n                    </a>\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.linkedin.com/in/rgillani/\">\n                        <img src={process.env.PUBLIC_URL + '/images/lIn.png'} alt=\"Missing png\"></img>\n                        LinkedIn\n                    </a>\n\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/rahijj\">\n                        <img\n                            src={process.env.PUBLIC_URL + '/images/gHub.png'}\n                            alt=\"Missing png\"\n                            style={{ filter: 'invert(1)', height: '20px', width: '20px', padding: '5px' }}\n                        ></img>\n                        GitHub\n                    </a>\n                    <Link to=\"/scroll-dash\">\n                        {' '}\n                        <img\n                            src={process.env.PUBLIC_URL + '/images/d3.png'}\n                            alt=\"Missing png\"\n                            style={{ height: '20px', width: '20px', padding: '5px' }}\n                        ></img>\n                        <span style={{ textTransform: 'none' }}>D3.js - Demo</span>\n                    </Link>\n                </div>\n            </div>\n            <div\n                id={NavBName}\n                className=\"Nav_Button\"\n                onClick={() => {\n                    if (openNav == '0vh') {\n                        set_openNav('45vh');\n                        set_NavBName('Close');\n                    } else {\n                        set_openNav('0vh');\n                        set_NavBName('Navigation');\n                    }\n                }}\n            >\n                {' '}\n                <div className=\"Burger\"></div>\n                <div className=\"Burger2\"></div>\n                <div className=\"Burger3\"></div>\n            </div>\n        </div>\n    );\n};\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport HeaderPort from 'components/Header/HeaderPort';\nimport './style.css';\n\ntype P = {\n    children: React.ReactNode;\n};\nconst MainComponent: React.FunctionComponent<P> = ({ children }) => {\n    const [openNav, set_openNav] = useState('25vh');\n    const [NavBName, set_NavBName] = useState('Navigation');\n    const [y, setY] = useState(0);\n\n    const navH = '70px';\n    useEffect(() => {\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            set_openNav('0vh');\n        } else {\n            set_openNav(navH);\n        }\n        window.onscroll = () => setY(window.pageYOffset);\n    }, []);\n    useEffect(() => {\n        window.onscroll = () => setY(window.pageYOffset);\n\n        if (!window.matchMedia('(max-width: 767px)').matches) {\n            set_openNav(navH);\n        }\n        window.onresize = () => {\n            if (window.matchMedia('(max-width: 767px)').matches) {\n                set_openNav('0vh');\n                set_NavBName('Navigation');\n            } else {\n                set_openNav(navH);\n            }\n        };\n    }, []);\n\n    return (\n        <>\n            <div id=\"home\" className=\"port-main\">\n                <HeaderPort\n                    y={y}\n                    openNav={openNav}\n                    set_openNav={set_openNav}\n                    NavBName={NavBName}\n                    set_NavBName={set_NavBName}\n                />\n                {children}\n            </div>\n        </>\n    );\n};\n\nexport default MainComponent;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Projects: React.FC = () => {\n    return (\n        <div id=\"projects\" className=\"projects\">\n            <div className=\"about-title\">\n                <div className=\"react-reveal\" style={{ opacity: '1' }}>\n                    <span style={{ animationDuration: '1000ms' }}>P</span>\n                    <span style={{ animationDuration: '1200ms' }}>r</span>\n                    <span style={{ animationDuration: '1400ms' }}>o</span>\n                    <span style={{ animationDuration: '1600ms' }}>j</span>\n                    <span style={{ animationDuration: '1800ms' }}>e</span>\n                    <span style={{ animationDuration: '2000ms' }}>c</span>\n                    <span style={{ animationDuration: '2200ms' }}>t</span>\n                    <span style={{ animationDuration: '2400ms' }}>s</span>\n                </div>\n                <div className=\"proj-list react-reveal-ani\">\n                    <div className=\"proj\">\n                        <div className=\"center\">\n                            <img src={process.env.PUBLIC_URL + '/images/cerp-logo.png'} alt={'Not Found'}></img>\n                            <h3>Economic Vulnerability Assessment</h3>\n                        </div>\n\n                        <div className=\"descrip\">\n                            As my final semesters at the University of Waterloo were online due to COVID-19, I went to\n                            my home country Pakistan for a while and started working full time as a contractual Software\n                            Developer for CERP Labs (Centre of Economic Research Pakistan), while simultaneously\n                            pursuing my studies as well. I led the data visualization and full-stack engineering on the\n                            COVID-19 Economic Vulnerability Assessment dashboard, highlighting the economic impact of\n                            COVID-19 on vulnerable populations in Punjab. I worked with professors and researchers in\n                            analyzing the data collected from more than 3,500 surveys over several rounds. For the\n                            dashboard I learned to use <b>D3.js</b> with <b>React</b> to create an interactive data\n                            story which is open to the public. The dashboard walks through the key findings from the\n                            study, and enables exploration of the data through the provision of filters below each of\n                            the figures. Finally I formalized my work into a reusable framework with detailed\n                            documentation to support CERP Labs long-term engineering capabilities.\n                            <br></br>\n                            <br></br>\n                            <a\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                href=\"https://www.cerp.org.pk/covid-economic-assessment/\"\n                            >\n                                <b>Click here</b>\n                            </a>{' '}\n                            for link to the official Dashboard.<br></br>\n                            <Link to=\"/scroll-dash\">\n                                <b>Click here</b>\n                            </Link>{' '}\n                            for D3.js Demo.\n                        </div>\n                    </div>\n                    <div className=\"proj\">\n                        <div className=\"center\">\n                            <img src={process.env.PUBLIC_URL + '/images/twittSent.jpeg'} alt={'Not Found'}></img>\n                            <h3>Twitter Sentiment Analysis</h3>\n                        </div>\n                        <div className=\"descrip\">\n                            One of the most popular communication tools today includes microblogging. Thousands of\n                            gigabytes of data is available on the internet, with users sharing their opinions on all\n                            aspects of their lives. This project focuses on the platform Twitter and aims to perform\n                            sentiment analysis on its tweets related to the current COVID-19 situation.&nbsp;\n                            <br></br>\n                            <br></br>\n                            <a\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                href=\"https://drive.google.com/file/d/1W5AoMhlPCYM4qzSBPW7DyvysusSEXAS2/view?usp=sharing\"\n                            >\n                                <b>Click here for full report.</b>\n                            </a>\n                        </div>\n                    </div>\n                    <div className=\"proj\">\n                        <div className=\"center\">\n                            <img src={process.env.PUBLIC_URL + '/images/landmark.jpg'} alt={'Not Found'}></img>\n                            <h3>Landmark Retrieval</h3>\n                        </div>\n                        <div className=\"descrip\">\n                            Attempted the Google Landmark Retrieval Challange. Landmark Recognition technology can\n                            predict landmark labels directly from image pixels, to help people better understand and\n                            organize their photo collections. My implimentation included the Fine-tuning of the VGG16\n                            pre-trained model to produce a L2-normalized feature vector and then I calculated the cosine\n                            similarity between images to extract the top 10 train images most similar to a test image.\n                            Then the DELF module was used, (which packages a model pre-trained on landmark images), to\n                            extract key points and descriptors for the extracted images, which was then passed to the\n                            KD-Tree Algorithm for the nearest-neighbor matches, and then to RANSAC for geometric\n                            verification to retrieve the best image.&nbsp;\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {/* <div className=\"about-content\">\n                <div className='pdf'>\n                    <iframe src=\"https://drive.google.com/file/d/1UYyxrtIZAeW80sdcAeM7J-hiw-EubkhX/preview\" style={{ border: \"None\" }}></iframe>\n                </div>\n            </div> */}\n        </div>\n    );\n};\nexport default Projects;\n","import React, { Children, useState } from 'react'\nimport { Link } from 'react-router-dom';\n\nconst Contact: React.FC = () => {\n\n    return (\n        <div id=\"Contact\" className=\"Contact\">\n            <div className='about-title'>\n                <div className=\"react-reveal\" style={{ opacity: \"1\" }}>\n                    <span style={{ animationDuration: \"1000ms\" }}>C</span>\n                    <span style={{ animationDuration: \"1200ms\" }}>o</span>\n                    <span style={{ animationDuration: \"1400ms\" }}>n</span>\n                    <span style={{ animationDuration: \"1600ms\" }}>t</span>\n                    <span style={{ animationDuration: \"1800ms\" }}>a</span>\n                    <span style={{ animationDuration: \"2000ms\" }}>c</span>\n                    <span style={{ animationDuration: \"2200ms\" }}>t</span>\n                    {/* <hr /> */}\n                </div>\n                <div className=\" center react-reveal-ani\" >\n                    <div className='cont'>\n                        <div className=\"type\">\n                            <img src={process.env.PUBLIC_URL + '/images/phone.png'} style={{ height: \"20px\" }}></img>\n                        </div>\n                        <div className=\"info\" style={{ paddingBottom: \"4px\" }}>\n                            +12269783329\n                        </div>\n                    </div>\n                    <div className='cont'>\n                        <div className=\"type\">\n                            <img src={process.env.PUBLIC_URL + '/images/email.png'} style={{ height: \"30px\", paddingRight: \"5px\" }}></img>\n                        </div>\n                        <div className=\"info\" style={{ paddingBottom: \"4px\" }}>\n                            rgillani@uwaterloo.ca, rahijj@gmail.com\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            {/* <div className=\"about-content\">\n                <div className='pdf'>\n                    <iframe src=\"https://drive.google.com/file/d/1UYyxrtIZAeW80sdcAeM7J-hiw-EubkhX/preview\" style={{ border: \"None\" }}></iframe>\n                </div>\n            </div> */}\n        </div >\n    )\n}\nexport default Contact\n","import React from 'react';\nimport MainComp from 'pages/port-main/index';\nimport Projects from './Projects';\nimport Contact from './Contact';\n\nconst About: React.FC = () => {\n    return (\n        <MainComp>\n            <div className=\"about-me\">\n                <div className=\"about-title\">\n                    <div className=\"react-reveal\" style={{ opacity: '1' }}>\n                        <span style={{ animationDuration: '1000ms' }}>A</span>\n                        <span style={{ animationDuration: '1260ms' }}>b</span>\n                        <span style={{ animationDuration: '1410ms' }}>o</span>\n                        <span style={{ animationDuration: '1670ms' }}>u</span>\n                        <span style={{ animationDuration: '1820ms' }}>t</span>\n                    </div>\n                </div>\n                <div className=\"about-content\">\n                    <p className=\"react-reveal\">\n                        Hi I'm <b>Rahij</b>, a <b>Software Engineer</b> from <b>Waterloo, ON. </b>\n                        I've graduated with a Bachelor's degree in <b>Computer Science</b> from LUMS, and a Masters\n                        degree in <b>Systems Design Engineering</b> (ML & AI specialization) from the{' '}\n                        <b>University of Waterloo</b>, I'm currently working as a full-time Software Engineer at Venngage.\n                    </p>\n                </div>\n                {/* <div className='projSkills' >\n                    <h3 >Skills</h3>\n                    <div className=\"skills\">\n                        <ul>\n                            <h4>Languages</h4>\n                            <li>Python</li>\n                            <li>C++</li>\n                            <li>JavaScript (TypeScript)</li>\n                            <li>Haskell</li>\n                            <li>HTML</li>\n                            <li>CSS</li>\n                        </ul>\n                        <ul>\n                            <h4>Libraries/Frameworks</h4>\n                            <li>TensorFlow</li>\n                            <li>PyTorch</li>\n                            <li>React.js</li>\n                            <li>Node</li>\n                            <li>D3.js</li>\n                        </ul>\n                        <ul>\n                            <h4>Database</h4>\n                            <li>PostgreSQL</li>\n                        </ul>\n                        <ul>\n                            <h4>OS</h4>\n                            <li>Windows</li>\n                            <li>Linux</li>\n                        </ul>\n                        <ul>\n                            <h4>Other</h4>\n                            <li>LateX</li>\n                            <li>MATLAB</li>\n                            <li>R</li>\n                            <li>Github</li>\n                        </ul>\n                    </div>\n                </div> */}\n                <Projects />\n                <Contact />\n            </div>\n        </MainComp>\n    );\n};\nexport default About;\n","import * as React from 'react';\nimport { Provider } from 'react-redux';\n// import { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { HashRouter as Router, Route, Switch, BrowserRouter } from 'react-router-dom';\nimport { Store } from 'redux';\nimport { connect } from 'react-redux';\n\nimport ErrorComponent from 'components/Error';\n\nimport MainPage from './pages/d3-main';\nimport About from './pages/About';\nimport { submitError } from 'actions/core';\n\ninterface P {\n    store: Store;\n    sendError: (err: Error, errInfo: React.ErrorInfo) => void;\n}\n\ninterface S {\n    error?: {\n        err: Error;\n        errInfo: React.ErrorInfo;\n    };\n}\n\nclass Routes extends React.Component<P, S> {\n    constructor(props: P) {\n        super(props);\n\n        this.state = {\n            error: undefined,\n        };\n    }\n\n    componentDidCatch(err: Error, errInfo: React.ErrorInfo) {\n        this.props.sendError(err, errInfo);\n\n        this.setState({\n            error: {\n                err,\n                errInfo,\n            },\n        });\n    }\n\n    render() {\n        const store = this.props.store;\n\n        if (this.state.error) {\n            return <ErrorComponent error={this.state.error.err} errInfo={this.state.error.errInfo} />;\n        }\n\n        return (\n            <Provider store={store}>\n                <Router>\n                    <Switch>\n                        <Route exact path=\"/\" component={About} />\n                        <Route exact path=\"/scroll-dash\" component={MainPage} />\n                    </Switch>\n                </Router>\n            </Provider>\n        );\n    }\n}\n\nexport default connect(\n    (state: RootReducerState) => ({}),\n    (dispatch: Function) => ({\n        sendError: (err: Error, errInfo: React.ErrorInfo) => dispatch(submitError(err, errInfo)),\n    })\n)(Routes);\n","import Syncr from '@cerp/syncr'\n\ntype GetState = () => RootReducerState\ntype Dispatch = (a: any) => any\n\nconst SYNC = \"SYNC\"\n\n// TODO: separate out connect, auth merges and deletes into separate folder\nexport const MERGES = \"MERGES\"\n\ninterface Merge {\n\tpath: string[],\n\tvalue: any\n}\n\nexport interface MergeAction {\n\ttype: \"MERGES\",\n\tmerges: Merge[]\n}\n\nexport const createMerges = (merges: Merge[]) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\t// merges is a list of path, value\n\n\tconst action = {\n\t\ttype: MERGES,\n\t\tmerges\n\t}\n\n\tdispatch(action)\n\n\tconst new_merges = merges.reduce((agg, curr) => ({\n\t\t...agg,\n\t\t[curr.path.join(',')]: {\n\t\t\taction: {\n\t\t\t\ttype: \"MERGE\",\n\t\t\t\tpath: curr.path.map(p => p === undefined ? \"\" : p),\n\t\t\t\tvalue: curr.value\n\t\t\t},\n\t\t\tdate: new Date().getTime()\n\t\t}\n\t}), {})\n\n\tconst state = getState();\n\tconst rationalized_merges = { ...state.queued, ...new_merges }\n\n\tconst payload = {\n\t\ttype: SYNC,\n\t\tid: state.auth.id,\n\t\tclient_type: state.auth.client_type,\n\t\tlast_snapshot: state.last_snapshot,\n\t\tpayload: rationalized_merges\n\t}\n\n\tsyncr.send(payload)\n\t\t.then(dispatch)\n\t\t.catch(err => dispatch(QueueUp(new_merges)))\n}\n\nexport const SMS = \"SMS\"\nexport const sendSMS = (text: string, number: string) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\n\t// should i keep a log of all messages sent in the db?\n\n\tconst state = getState();\n\tsyncr.send({\n\t\ttype: SMS,\n\t\tclient_type: state.auth.client_type,\n\t\tid: state.auth.id,\n\t\tpayload: {\n\t\t\ttext,\n\t\t\tnumber,\n\t\t}\n\t})\n\t\t.then(dispatch)\n\t\t.catch((err: Error) => console.error(err)) // this should backup to sending the sms via the android app?\n}\n\n\nexport const BATCH_SMS = \"BATCH_SMS\"\ninterface SMS {\n\ttext: string,\n\tnumber: string\n}\n\nexport const sendBatchSMS = (messages: SMS[]) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\n\tconst state = getState();\n\tsyncr.send({\n\t\ttype: BATCH_SMS,\n\t\tclient_type: state.auth.client_type,\n\t\tid: state.auth.id,\n\t\tpayload: {\n\t\t\tmessages\n\t\t}\n\t})\n\t\t.catch((err: Error) => {\n\t\t\tconsole.error(err) // send via android app?\n\t\t})\n}\n\ninterface ServerAction {\n\ttype: string,\n\tpayload: any\n}\n\nexport const sendServerAction = (action: ServerAction) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\tconst state = getState();\n\n\tconsole.log('send server action...', action)\n\treturn syncr.send({\n\t\ttype: action.type,\n\t\tclient_type: state.auth.client_type,\n\t\tclient_id: state.client_id,\n\t\tid: state.auth.id,\n\t\tpayload: action.payload\n\t})\n\t\t.then(dispatch)\n\t\t.catch((err: Error) => {\n\t\t\tconsole.error(err)\n\t\t})\n\n\t// should it get queued up....\n}\n\nexport const DELETES = \"DELETES\"\ninterface Delete {\n\tpath: string[]\n}\n\nexport interface DeletesAction {\n\ttype: \"DELETES\",\n\tpaths: Delete[]\n}\n\nexport const createDeletes = (paths: Delete[]) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\n\tconst action = {\n\t\ttype: DELETES,\n\t\tpaths\n\t}\n\n\tdispatch(action)\n\n\tconst state = getState();\n\tconst payload = paths.reduce((agg, curr) => ({\n\t\t...agg,\n\t\t[curr.path.join(',')]: {\n\t\t\taction: {\n\t\t\t\ttype: \"DELETE\",\n\t\t\t\tpath: curr.path.map(x => x === undefined ? \"\" : x),\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tdate: new Date().getTime()\n\t\t}\n\t}), {})\n\n\tconst rationalized_deletes = { ...state.queued, ...payload }\n\n\tsyncr.send({\n\t\ttype: SYNC,\n\t\tclient_type: state.auth.client_type,\n\t\tschool_id: state.auth.id,\n\t\tlast_snapshot: state.last_snapshot,\n\t\tpayload: rationalized_deletes\n\t})\n\t\t.then(dispatch)\n\t\t.catch((err: Error) => dispatch(QueueUp(payload)))\n\n}\n\n// this is only produced by the server.\n// it will tell us it hsa confirmed sync up to { date: timestamp }\nexport const CONFIRM_SYNC = \"CONFIRM_SYNC\"\nexport const CONFIRM_SYNC_DIFF = \"CONFIRM_SYNC_DIFF\"\nexport interface ConfirmSyncAction {\n\ttype: \"CONFIRM_SYNC_DIFF\",\n\tdate: number,\n\tnew_writes: Write[]\n}\n\nexport interface Write {\n\tdate: number,\n\tvalue: any,\n\tpath: string[],\n\ttype: \"MERGE\" | \"DELETE\",\n\tclient_id: string\n}\n\nexport const SNAPSHOT = \"SNAPSHOT\"\nexport const SNAPSHOT_DIFF = \"SNAPSHOT_DIFF\"\n\nexport interface SnapshotDiffAction {\n\tnew_writes: {\n\t\t[path_string: string]: {\n\t\t\ttype: \"MERGE\" | \"DELETE\",\n\t\t\tpath: string[],\n\t\t\tvalue?: any\n\t\t}\n\t}\n}\n\nexport const QUEUE = \"QUEUE\"\n// queue up an object where key is path, value is action/date\ninterface Queuable {\n\t[path: string]: {\n\t\taction: {\n\t\t\ttype: \"MERGE\" | \"DELETE\",\n\t\t\tpath: string[],\n\t\t\tvalue?: any\n\t\t},\n\t\tdate: number\n\t}\n}\n\nexport interface QueueAction {\n\ttype: \"QUEUE\",\n\tpayload: Queuable\n}\n\nexport const QueueUp = (action: Queuable) => {\n\treturn {\n\t\ttype: QUEUE,\n\t\tpayload: action\n\t}\n}\n\nexport const ON_CONNECT = \"ON_CONNECT\"\nexport const ON_DISCONNECT = \"ON_DISCONNECT\"\nexport const connected = () => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\tconst action = { type: ON_CONNECT }\n\n\tdispatch(action)\n\n\tconst state = getState();\n\n\tif (state.auth.id && state.auth.token) {\n\t\tsyncr\n\t\t\t.send({\n\t\t\t\ttype: \"VERIFY\",\n\t\t\t\tclient_type: state.auth.client_type,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: state.auth.id,\n\t\t\t\t\ttoken: state.auth.token,\n\t\t\t\t\tclient_id: state.client_id,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\treturn syncr.send({\n\t\t\t\t\ttype: SYNC,\n\t\t\t\t\tclient_type: state.auth.client_type,\n\t\t\t\t\tid: state.auth.id,\n\t\t\t\t\tpayload: state.queued,\n\t\t\t\t\tlast_snapshot: state.last_snapshot\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then(resp => {\n\t\t\t\tdispatch(resp)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err)\n\t\t\t\talert(\"Verification Failed: \" + JSON.stringify(err))\n\t\t\t})\n\t}\n}\n\nexport const submitError = (err: Error, errInfo: React.ErrorInfo) => (dispatch: Dispatch, getState: GetState, syncr: Syncr) => {\n\n\tconst state = getState();\n\n\tsyncr.send({\n\t\ttype: \"SUBMIT_ERROR\",\n\t\tclient_type: state.auth.client_type,\n\t\tid: state.auth && state.auth.id,\n\t\tpayload: {\n\t\t\terror: {\n\t\t\t\tname: err.name,\n\t\t\t\tmessage: err.message\n\t\t\t},\n\t\t\terrInfo: errInfo.componentStack,\n\t\t\tdate: new Date().getTime()\n\t\t}\n\t})\n\n}\n\nexport const disconnected = () => ({ type: ON_DISCONNECT })\n\nexport const LOGIN_FAIL = \"LOGIN_FAIL\"\nexport const createLoginFail = () => ({ type: LOGIN_FAIL })\n\nexport const LOGIN_SUCCEED = \"LOGIN_SUCCEED\"\nexport interface LoginSucceed {\n\ttype: \"LOGIN_SUCCEED\",\n\tid: string,\n\ttoken: string,\n\tsync_state: RootReducerState['sync_state'],\n}\n\nexport const createLoginSucceed = (id: string, token: string, sync_state: RootReducerState['sync_state']): LoginSucceed => ({\n\ttype: LOGIN_SUCCEED,\n\tid,\n\ttoken,\n\tsync_state\n})\n","import { v4 } from 'uuid';\n\nexport const saveDB = (db: RootReducerState) => {\n\n\ttry {\n\n\t\tsaveAuth(db.auth)\n\t\tsaveSyncState(db.sync_state);\n\t\tsaveSnapshot(db.last_snapshot);\n\t\tsaveQueue(db.queued)\n\t\t// saveRawData(db.raw_data)\n\t}\n\n\tcatch (err) {\n\t\tconsole.error(err);\n\t}\n}\n\nexport const clearDB = () => {\n\tlocalStorage.removeItem(\"auth\")\n\tlocalStorage.removeItem(\"sync_state\")\n\tlocalStorage.removeItem(\"last_snapshot\")\n\tlocalStorage.removeItem(\"school_db\")\n}\n\nexport const loadAuth = (): RootReducerState['auth'] => {\n\n\tlet init_auth: RootReducerState['auth'] = {\n\t\tid: undefined,\n\t\ttoken: undefined,\n\t\tclient_type: \"tech_demo\"\n\t};\n\n\ttry {\n\t\tconst str = localStorage.getItem(\"auth\")\n\t\tif (str === null) {\n\t\t\treturn init_auth;\n\t\t}\n\n\t\treturn JSON.parse(str);\n\t}\n\tcatch (err) {\n\t\tconsole.error(err);\n\t\treturn init_auth;\n\t}\n}\n\nexport const saveAuth = (auth: RootReducerState['auth']) => {\n\tlocalStorage.setItem(\"auth\", JSON.stringify(auth))\n}\n\nconst loadClientId = () => {\n\n\tconst client_id = localStorage.getItem(\"client_id\") || v4();\n\tlocalStorage.setItem(\"client_id\", client_id)\n\n\treturn client_id;\n}\n\nconst loadSyncState = (): RootReducerState['sync_state'] => {\n\n\tconst str = localStorage.getItem(\"sync_state\");\n\n\tif (str) {\n\t\tconst curr = JSON.parse(str) as RootReducerState['sync_state']\n\t\treturn curr;\n\t}\n\n\treturn {};\n\n}\n\nconst saveSyncState = (sync_state: RootReducerState['sync_state']) => {\n\n\tlocalStorage.setItem(\"sync_state\", JSON.stringify(sync_state));\n}\n\nconst saveQueue = (queue: RootReducerState['queued']) => {\n\n\tlocalStorage.setItem(\"queued\", JSON.stringify(queue))\n\n}\n\nconst saveRawData = (rd: RawSurveyData) => {\n\tlocalStorage.setItem(\"eva_raw_data\", JSON.stringify(rd))\n}\n\nconst loadRawData = (): RawSurveyData => {\n\tconst rd = localStorage.getItem(\"eva_raw_data\") || \"{}\"\n\n\treturn JSON.parse(rd) as RawSurveyData\n}\n\nconst loadQueue = () => {\n\treturn JSON.parse(localStorage.getItem(\"queued\") || \"{}\") as RootReducerState['queued']\n}\n\nconst saveSnapshot = (last_snapshot: number) => {\n\n\t//@ts-ignore\n\tlocalStorage.setItem(\"last_snapshot\", last_snapshot);\n}\n\nconst loadSnapshot = () => {\n\treturn parseInt(localStorage.getItem(\"last_snapshot\") || \"0\")\n}\n\nexport const loadDB = (): RootReducerState => {\n\n\treturn {\n\t\tclient_id: loadClientId(),\n\t\tauth: loadAuth(),\n\t\tqueued: loadQueue(),\n\t\taccept_snapshot: false,\n\t\tlast_snapshot: loadSnapshot(),\n\t\tconnected: false,\n\t\tsync_state: loadSyncState(),\n\t\tloading: true,\n\t\traw_data: {}// loadRawData()\n\t}\n}\n","import Dynamic from '@ironbay/dynamic'\n\nimport { MERGES, MergeAction, ON_CONNECT, ON_DISCONNECT, DELETES, DeletesAction, QueueAction, QUEUE, CONFIRM_SYNC_DIFF, ConfirmSyncAction, SnapshotDiffAction, SNAPSHOT_DIFF } from '../actions/core'\nimport { AnyAction, Reducer } from 'redux';\nimport { loadDB } from '../utils/localStorage';\nimport { GOT_RAW_DATA } from 'actions';\n\nconst rootReducer: Reducer<RootReducerState, AnyAction> = (state: RootReducerState | undefined, action: AnyAction): RootReducerState => {\n\n\t// this never actually gets called because we initialize state in our `createStore` call\n\tif (state === undefined) {\n\t\treturn loadDB()\n\t}\n\n\tconsole.log(action.type)\n\n\tswitch (action.type) {\n\n\t\tcase \"LOADING\":\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tloading: action.loading\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase GOT_RAW_DATA:\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tloading: false,\n\t\t\t\t\traw_data: action.data\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase \"GOT_RAW_DATA_FROM_IDB\":\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\traw_data: action.data\n\t\t\t\t}\n\t\t\t}\n\t\tcase ON_CONNECT:\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tconnected: true\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase ON_DISCONNECT:\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tconnected: false\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase MERGES:\n\t\t\t{\n\t\t\t\tconst nextState = (action as MergeAction).merges.reduce((agg, curr) => {\n\t\t\t\t\treturn Dynamic.put(agg, curr.path, curr.value)\n\t\t\t\t}, JSON.parse(JSON.stringify(state)))\n\n\t\t\t\treturn {\n\t\t\t\t\t...nextState,\n\t\t\t\t\taccept_snapshot: false\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase DELETES:\n\t\t\t{\n\t\t\t\tconst state_copy = JSON.parse(JSON.stringify(state)) as RootReducerState\n\n\t\t\t\t(action as DeletesAction).paths.forEach(a => Dynamic.delete(state_copy, a.path))\n\n\t\t\t\treturn {\n\t\t\t\t\t...state_copy,\n\t\t\t\t\taccept_snapshot: false\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase QUEUE:\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tqueued: {\n\t\t\t\t\t\t...state.queued,\n\t\t\t\t\t\t...(action as QueueAction).payload\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase CONFIRM_SYNC_DIFF:\n\t\t\t{\n\t\t\t\tconst diff_action = action as ConfirmSyncAction\n\n\t\t\t\tconsole.log(\n\t\t\t\t\t\"confirm sync diff: \",\n\t\t\t\t\tObject.keys(diff_action.new_writes).length,\n\t\t\t\t\t\"changes synced\")\n\n\t\t\t\tconst newQ = Object.keys(state.queued)\n\t\t\t\t\t.filter(t => {\n\t\t\t\t\t\tconsole.log(state.queued[t].date, diff_action.date, state.queued[t].date - diff_action.date)\n\t\t\t\t\t\treturn state.queued[t].date > diff_action.date\n\t\t\t\t\t})\n\t\t\t\t\t.reduce((agg, curr) => {\n\t\t\t\t\t\treturn Dynamic.put(agg, [\"queued\", state.queued[curr].action.path], state.queued[curr].action)\n\t\t\t\t\t}, {})\n\n\t\t\t\tif (Object.keys(diff_action.new_writes).length > 0) {\n\t\t\t\t\tconst nextState = Object.values(diff_action.new_writes)\n\t\t\t\t\t\t.reduce((agg, curr) => {\n\t\t\t\t\t\t\tif (curr.type === \"DELETE\") {\n\t\t\t\t\t\t\t\treturn Dynamic.delete(agg, curr.path)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn Dynamic.put(agg, curr.path, curr.value)\n\t\t\t\t\t\t}, JSON.parse(JSON.stringify(state)))\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...nextState,\n\t\t\t\t\t\tqueued: newQ,\n\t\t\t\t\t\taccept_snapshot: true,\n\t\t\t\t\t\tlast_snapshot: new Date().getTime()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tqueued: newQ,\n\t\t\t\t\taccept_snapshot: true,\n\t\t\t\t\tlast_snapshot: new Date().getTime()\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase SNAPSHOT_DIFF:\n\t\t\t{\n\t\t\t\t//@ts-ignore\n\t\t\t\tconst snapshot = action as SnapshotDiffAction;\n\t\t\t\tconsole.log(\"snapshot diff: \", Object.keys(snapshot.new_writes).length, \"changes broadcast\")\n\n\t\t\t\tif (!state.accept_snapshot) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tif (Object.keys(snapshot.new_writes).length > 0) {\n\n\t\t\t\t\tconst nextState = Object.values(snapshot.new_writes)\n\t\t\t\t\t\t.reduce((agg, curr) => {\n\t\t\t\t\t\t\tif (curr.type === \"DELETE\") {\n\t\t\t\t\t\t\t\treturn Dynamic.delete(agg, curr.path)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn Dynamic.put(agg, curr.path, curr.value)\n\t\t\t\t\t\t}, JSON.parse(JSON.stringify(state))) as RootReducerState;\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...nextState,\n\t\t\t\t\t\tlast_snapshot: new Date().getTime()\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tlast_snapshot: new Date().getTime()\n\t\t\t\t}\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n\n}\n\nexport default rootReducer;","\nconst debounce = (f : Function, wait : number) : Function => {\n\n\tlet timeout : NodeJS.Timeout;\n\n\treturn (...args : any[]) => {\n\t\t//@ts-ignore\n\t\tconst fncall = () => f.apply(this, args);\n\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(fncall, wait);\n\t}\n\n}\n\nexport default debounce;","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { applyMiddleware, AnyAction, createStore, Store } from 'redux';\nimport thunkMiddleware, { ThunkMiddleware } from 'redux-thunk';\nimport Syncr from '@cerp/syncr';\n\nimport Routes from 'routes';\nimport reducer from 'reducers';\nimport { loadRawDataFromIDB } from 'actions/index';\nimport { saveRawData } from 'utils/indexDB';\nimport { loadDB, saveDB } from 'utils/localStorage';\nimport debounce from 'utils/debounce';\n\n// const host = get_host()\n\nconst initial_state = loadDB();\n\n// const syncr = new Syncr(`wss://${host}/ws`)\n\n// @ts-ignore\n// syncr.on('connect', () => store.dispatch(connected()))\n// syncr.on('disconnect', () => store.dispatch(disconnected()))\n// syncr.on('message', (msg: AnyAction) => store.dispatch(msg))\n\nconst store: Store<RootReducerState> = createStore(\n    reducer,\n    initial_state,\n    applyMiddleware(thunkMiddleware as ThunkMiddleware<RootReducerState, AnyAction, Syncr>)\n);\n\n//@ts-ignore\nstore.dispatch(loadRawDataFromIDB());\n\nconst saveBounce = debounce(() => {\n    const state = store.getState();\n    // console.log('in save  DB', state)\n    saveDB(state);\n    saveRawData(state.raw_data);\n}, 0);\n\nstore.subscribe(saveBounce as () => void);\nReactDOM.render(<Routes store={store} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register({\n    onUpdate: (registration: ServiceWorkerRegistration) => {\n        registration.installing &&\n            registration.installing.postMessage({\n                type: 'SKIP_WAITING',\n            });\n    },\n});\n"],"sourceRoot":""}